<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>UserManualRU0.1</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:first-child { margin-top: -20px; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


:root { --side-bar-bg-color: #fafafa; --control-text-color: #777; }
html { font-size: 16px; }
body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; }
#write { max-width: 860px; margin: 0px auto; padding: 30px 30px 100px; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
a { color: rgb(65, 131, 196); }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit; }
h2 tt, h2 code { font-size: inherit; }
h3 tt, h3 code { font-size: inherit; }
h4 tt, h4 code { font-size: inherit; }
h5 tt, h5 code { font-size: inherit; }
h6 tt, h6 code { font-size: inherit; }
h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
h3 { font-size: 1.5em; line-height: 1.43; }
h4 { font-size: 1.25em; }
h5 { font-size: 1em; }
h6 { font-size: 1em; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 2px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; overflow: hidden; box-sizing: content-box; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119); }
blockquote blockquote { padding-right: 0px; }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(223, 226, 229); margin: 0px; padding: 0px; }
table tr:nth-child(2n), thead { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(223, 226, 229); border-right-color: rgb(223, 226, 229); border-left-color: rgb(223, 226, 229); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(223, 226, 229); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
.CodeMirror-lines { padding-left: 4px; }
.code-tooltip { box-shadow: rgba(0, 28, 36, 0.3) 0px 1px 1px 0px; border-top: 1px solid rgb(238, 242, 242); }
.md-fences, code, tt { border: 1px solid rgb(231, 234, 237); background-color: rgb(248, 248, 248); border-radius: 3px; padding: 2px 4px 0px; font-size: 0.9em; }
code { background-color: rgb(243, 244, 244); padding: 0px 2px; }
.md-fences { margin-bottom: 15px; margin-top: 15px; padding: 8px 1em 6px; }
.md-task-list-item > input { margin-left: -1.3em; }
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { word-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
.md-mathjax-midline { background: rgb(250, 250, 250); }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border-radius: 3px; padding: 2px 0px 0px 4px; font-size: 0.9em; color: inherit; }
.md-tag { color: rgb(167, 167, 167); opacity: 1; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }
.html-for-mac .context-menu { --item-hover-bg-color: #E6F0FE; }
#md-notification .btn { border: 0px; }
.dropdown-menu .divider { border-color: rgb(229, 229, 229); }





 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node'><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h1" data-ref="n4"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4">О руководстве  </a></span><span class="md-toc-item md-toc-h1" data-ref="n34"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n34">Описание Neoflex Datagram</a></span><span class="md-toc-item md-toc-h1" data-ref="n335"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n335">Quick start</a></span><span class="md-toc-item md-toc-h2" data-ref="n5482"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5482">Вход в программу</a></span><span class="md-toc-item md-toc-h2" data-ref="n337"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n337">Создание нового проекта</a></span><span class="md-toc-item md-toc-h2" data-ref="n346"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n346">Создание и настройка трансформации</a></span><span class="md-toc-item md-toc-h3" data-ref="n424"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n424">Просмотр результата преобразования данных</a></span><span class="md-toc-item md-toc-h2" data-ref="n428"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n428">Создание и настройка потока работ</a></span><span class="md-toc-item md-toc-h2" data-ref="n478"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n478">Инструменты запуска приложений и мониторинга в Neoflex Datagram</a></span><span class="md-toc-item md-toc-h1" data-ref="n502"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n502">Работа с программой</a></span><span class="md-toc-item md-toc-h2" data-ref="n504"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n504">Подключение Neoflex Datagram к базам данных внешних систем</a></span><span class="md-toc-item md-toc-h3" data-ref="n521"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n521">Объекты "JDBC Connection" </a></span><span class="md-toc-item md-toc-h3" data-ref="n574"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n574">Объекты "Software System"</a></span><span class="md-toc-item md-toc-h3" data-ref="n612"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n612">Объекты "Deployment"</a></span><span class="md-toc-item md-toc-h3" data-ref="n653"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n653">Объекты "Scheme"</a></span><span class="md-toc-item md-toc-h3" data-ref="n670"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n670">Объекты "Jdbc Context"</a></span><span class="md-toc-item md-toc-h2" data-ref="n685"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n685">Подключение Neoflex Datagram к исполняющим средам</a></span><span class="md-toc-item md-toc-h3" data-ref="n708"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n708">Объекты "Oozie"</a></span><span class="md-toc-item md-toc-h3" data-ref="n828"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n828">Объекты "Workflow Deployment" </a></span><span class="md-toc-item md-toc-h3" data-ref="n987"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n987">Объекты "Livy Server"</a></span><span class="md-toc-item md-toc-h3" data-ref="n1055"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1055">Объекты "Transformation Deployment" </a></span><span class="md-toc-item md-toc-h3" data-ref="n1192"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1192">Объекты "Coordinator Deployment"</a></span><span class="md-toc-item md-toc-h2" data-ref="n1221"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1221">Трансформация исходных данных</a></span><span class="md-toc-item md-toc-h3" data-ref="n1224"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1224">Объекты "Transformation"</a></span><span class="md-toc-item md-toc-h3" data-ref="n1294"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1294">Элементы диаграмм трансформаций</a></span><span class="md-toc-item md-toc-h4" data-ref="n1296"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1296">Группа элементов SOURCES</a></span><span class="md-toc-item md-toc-h5" data-ref="n1299"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1299"><strong><em>Local source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1350"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1350"><strong><em>CSV source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1425"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1425"><strong><em>XML source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1512"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1512"><strong><em>Avro source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1571"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1571"><strong><em>Expression source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1606"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1606"><strong><em>SQL source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1653"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1653"><strong><em>Hive source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1698"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1698"><strong><em>HBase source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1740"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1740"><strong><em>Table source</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1783"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1783"><strong><em>Kafka source</em></strong></a></span><span class="md-toc-item md-toc-h4" data-ref="n1864"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1864">Группа элементов DATA TRANSFORM</a></span><span class="md-toc-item md-toc-h5" data-ref="n1867"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1867"><strong><em>Join</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n1946"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n1946"><strong><em>Aggregation</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2009"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2009"><strong><em>Selection</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2045"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2045"><strong><em>Projection</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2104"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2104"><strong><em>Sequence</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2151"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2151"><strong><em>Sort</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2181"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2181"><strong><em>Group with state</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2240"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2240"><strong><em>Union</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2290"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2290"><strong><em>Drools</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2337"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2337"><strong><em>Model based analysis</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2400"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2400"><strong><em>Spark SQL</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2451"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2451"><strong><em>Explode fields</em></strong></a></span><span class="md-toc-item md-toc-h4" data-ref="n2481"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2481">Группа элементов TARGETS</a></span><span class="md-toc-item md-toc-h5" data-ref="n2484"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2484"><strong><em>Local target</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2535"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2535"><strong><em>Table target</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2578"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2578"><strong><em>Procedure target</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2622"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2622"><strong><em>CSV target</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2693"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2693"><strong><em>XML target</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2748"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2748"><strong><em>Streaming</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2803"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2803"><strong><em>Hive target</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2853"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2853"><strong><em>HBase target</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n2891"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2891"><strong><em>Kafka target</em></strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n2937"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2937">Агрегатные пользовательские функции</a></span><span class="md-toc-item md-toc-h3" data-ref="n2964"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2964">Объекты "Scheme data set"</a></span><span class="md-toc-item md-toc-h2" data-ref="n2990"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2990">Поток работ</a></span><span class="md-toc-item md-toc-h3" data-ref="n2993"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n2993">Объекты "Workflow"</a></span><span class="md-toc-item md-toc-h3" data-ref="n3078"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3078">Элементы диаграмм объектов Workflow</a></span><span class="md-toc-item md-toc-h4" data-ref="n3081"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3081">Группа элементов POINT</a></span><span class="md-toc-item md-toc-h5" data-ref="n3086"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3086"><strong><em>Start</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n3108"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3108"><strong><em>End</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n3130"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3130"><strong><em>Kill</em></strong></a></span><span class="md-toc-item md-toc-h4" data-ref="n3152"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3152">Группа элементов RULE</a></span><span class="md-toc-item md-toc-h5" data-ref="n3162"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3162"><strong><em>Fork</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n3186"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3186"><strong><em>Join</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n3209"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3209"><strong><em>Decision</em></strong></a></span><span class="md-toc-item md-toc-h4" data-ref="n3235"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3235">Группа элементов ACTION</a></span><span class="md-toc-item md-toc-h5" data-ref="n3239"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3239"><strong><em>Transformation</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n3282"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3282"><strong><em>Workflow</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n3325"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3325"><strong><em>Execute shell</em></strong></a></span><span class="md-toc-item md-toc-h5" data-ref="n3372"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3372"><strong><em>Execute Java</em></strong></a></span><span class="md-toc-item md-toc-h2" data-ref="n3438"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3438">Запуск на исполнение настроенных объектов Transformation и Workflow</a></span><span class="md-toc-item md-toc-h3" data-ref="n3441"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3441">Запуск исполнения настроенного объекта Transformation</a></span><span class="md-toc-item md-toc-h3" data-ref="n3448"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3448">Запуск исполнения настроенного объекта Workflow</a></span><span class="md-toc-item md-toc-h3" data-ref="n3454"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3454">Запуск исполнения настроенного объекта Workflow по расписанию</a></span><span class="md-toc-item md-toc-h3" data-ref="n3466"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3466">Объекты CoJob</a></span><span class="md-toc-item md-toc-h2" data-ref="n3627"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3627">Подсистема переноса метаданных</a></span><span class="md-toc-item md-toc-h3" data-ref="n3632"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3632">Группировка объектов программы</a></span><span class="md-toc-item md-toc-h3" data-ref="n3675"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3675">Операции экспорта/импорта метаданных</a></span><span class="md-toc-item md-toc-h2" data-ref="n3732"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3732">Адаптация подсистемы Meta Server для работы с разворачиваемым репозиторием</a></span><span class="md-toc-item md-toc-h3" data-ref="n3736"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3736">Объекты Environment</a></span><span class="md-toc-item md-toc-h2" data-ref="n3803"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3803">Sandbox. Инструмент анализа данных</a></span><span class="md-toc-item md-toc-h3" data-ref="n3825"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3825">Создание объекта Cluster</a></span><span class="md-toc-item md-toc-h3" data-ref="n3863"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3863">Создание Workspace</a></span><span class="md-toc-item md-toc-h3" data-ref="n3959"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3959">Наполнение Workspace</a></span><span class="md-toc-item md-toc-h5" data-ref="n3961"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3961"><em>Импорт схемы в Jdbc workspace</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n3964"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3964"><em>Импорт датасетов</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n3968"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3968"><em>Создание датасетов и child workspaces</em> </a></span><span class="md-toc-item md-toc-h4" data-ref="n3971"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3971">Child workspaces</a></span><span class="md-toc-item md-toc-h4" data-ref="n3974"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3974">Типы датасетов</a></span><span class="md-toc-item md-toc-h5" data-ref="n3977"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n3977"><em>Dataset</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4051"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4051"><em>Hive dataset</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4124"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4124"><em>Hive external dataset</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4208"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4208"><em>Jdbc dataset</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4281"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4281"><em>Jdbc table dataset</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4358"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4358"><em>Linked dataset</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4427"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4427"><em>Notebook</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4500"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4500"><em>Reference dataset</em></a></span><span class="md-toc-item md-toc-h4" data-ref="n4571"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4571">Работа с датасетами</a></span><span class="md-toc-item md-toc-h5" data-ref="n4572"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4572"><em>Просмотр данных датасета</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4589"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4589"><em>Просмотр метаданных датасета</em></a></span><span class="md-toc-item md-toc-h5" data-ref="n4599"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4599"><em>Редактирование атрибутов датасета</em></a></span><span class="md-toc-item md-toc-h2" data-ref="n4603"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4603">Дополнительные возможности программы</a></span><span class="md-toc-item md-toc-h3" data-ref="n4605"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4605">Перенос данных из CSV файлов в базу данных внешней системы</a></span><span class="md-toc-item md-toc-h4" data-ref="n4608"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4608">Объекты Staging Area</a></span><span class="md-toc-item md-toc-h2" data-ref="n4739"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4739">Запуск операций объектов по расписанию</a></span><span class="md-toc-item md-toc-h2" data-ref="n4958"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4958">Streaming. Потоковая обработка данных</a></span><span class="md-toc-item md-toc-h3" data-ref="n4969"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n4969">Объекты Events processor</a></span><span class="md-toc-item md-toc-h5" data-ref="n5011"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5011"><em>Настройка потоков данных и правил анализа</em></a></span><span class="md-toc-item md-toc-h3" data-ref="n5026"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5026">Объекты Function</a></span><span class="md-toc-item md-toc-h2" data-ref="n5065"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5065">SLA мониторинг задач Oozie</a></span><span class="md-toc-item md-toc-h1" data-ref="n5113"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5113">Приложения</a></span><span class="md-toc-item md-toc-h2" data-ref="n5115"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5115">Приложение 1. Соответствие типов полей в дизайнере трансформаций классам языка Scala</a></span><span class="md-toc-item md-toc-h2" data-ref="n5158"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5158">Приложение 2. Встроенные функции редактора выражений</a></span><span class="md-toc-item md-toc-h2" data-ref="n5466"><a class="md-toc-inner" style="cursor: pointer;" href="#header-n5466"></a></span></p></div><hr /><p><a id= 'about_book'><a></p><h1><a name='header-n4' class='md-header-anchor '></a>О руководстве  </h1><p>В руководстве пользователя описаны возможности Neoflex Datagram по разработке приложений для преобразования данных.</p><p>В главе «<a href='#quick_start'>Quick start</a>» представлен пример основных сценариев работы с программой:</p><ul><li>Запуск Neoflex Datagram;</li><li>Создание нового проекта;</li><li>Проектирование схемы преобразования данных;</li><li>Создание потока управления преобразованием данных и запуск приложения;</li><li>Контроль исполнения приложения и просмотр результата.</li></ul><p>В главе «<a href='#work_with_the_program'>Работа с программой</a>» описаны:</p><ul><li>Подготовка запуска приложения;</li><li>Интерфейс Neoflex Datagram;</li><li>Подключение Neoflex Datagram к базам данных внешних систем и настройки взаимодействия с исполняющими средами;</li><li>Элементы диаграмм трансформаций и потоков работ;</li><li>Запуск исполнения объектов Workflow по расписанию;</li><li>Дополнительные возможности программы.</li></ul><p>В связи с непрерывно ведущимися работами по усовершенствованию программы, следует отметить, что описание программы может отличаться от того, что Вы увидите на экране.</p><p><a id='datagram_description'></a></p><h1><a name='header-n34' class='md-header-anchor '></a>Описание Neoflex Datagram</h1><p>Neoflex Datagram - это программная платформа предназначенная для разработки приложений по преобразованию данных. Neoflex Datagram поддерживает как пакетный, так и потоковый режимы обработки данных.</p><p>Ядром платформы является сервер метаданных, который обеспечивает хранение и предоставляет инструменты управления хранилищами данных, преобразованиями данных, источниками и приемниками данных, исполняющими средами и т.д.</p><p>Neoflex Datagram поддерживает полный цикл разработки приложений по преобразованию данных:</p><ul><li>Визуальное проектирование схем преобразования данных;</li><li>Визуальное проектирование потоков управления преобразованиями данных;</li><li>Генерация исходного кода на языке Scala с библиотекой Apache Spark;</li><li>Компиляция и генерация приложения;</li><li>Развертывание приложения на исполняющей среде;</li><li>Планирование исполнения приложения;</li><li>Мониторинг исполнения приложения;</li><li>Инструменты для остановки и перезапуска приложений.</li></ul><p><strong>Архитектура Neoflex Datagram</strong></p><p><img src='Pic/arch.png' alt='Архитектура Neoflex Datagram' referrerPolicy='no-referrer' /></p><p><strong>Устройство программной платформы</strong></p><p>Программная платформа разработана на базе архитектуры, управляемой моделью (MDA). Для управления моделями применяется Eclipse Modelling Framework (EMF). Для сохранения моделей применяются PostgreSQL, Hibernate и Teneo. Для валидации моделей и трансформаций model-to-model (M2M) и model-to-text (M2T) применяется Eclipse Epsilon. Внутри платформы используются следующие типы моделей: Authentication, Relational, ETL, Runtime, DWH, UI, Metadata.</p><p><strong>Исполняющие среды</strong></p><p>Исполняющие среды Neoflex Datagram базируются на Apache Spark.</p><p>Neoflex Datagram может выполнять запуск приложений на серверах Apache Livy или Apache Oozie. На сервере Apache Livy запускаются приложения из сред разработки/отладки. Сервер Apache Oozie используется для запуска отлаженных приложений на рабочей среде.</p><p><strong>Дизайнер трансформаций</strong></p><p>Дизайнер трансформаций - интерфейс для визуальной разработки схем преобразования данных.</p><p>В дизайнере трансформаций поддерживается широкий спектр источников/приемников данных:</p><ul><li>RDBMS источники/приемники данных использующие соединение JDBC (включая хранимые процедуры);</li><li>Иерархические источники/приемники: XML, AVRO и JSON;</li><li>Специфические форматы файловой системы HDFS: ORC, PARQUET;</li><li>Источники/приемники данных: CSV, Apache Hive, Apache Kafka.</li></ul><p>Типы преобразований данных:</p><ul><li>Широкий набор операций реляционной алгебры: join, sort, aggregation, union, selection, projections, pivot, explode arrays, sequence generation;</li><li>Специфические для Spark трансформации: Spark SQL - выполняет произвольные SQL запросы к потокам данных;</li><li>Алгоритмы машинного обучения с использованием Spark MLLib (decision trees, SVM, logistic regression и т.д.);</li><li>Jboss Rules (Drools) - система управления бизнес правилами.</li></ul><p>Основные возможности:</p><ul><li>Поддержка типов данных полей: STRING, DECIMAL, INTEGER, DATE, TIME, DATETIME, BINARY, BOOLEAN, LONG, FLOAT, DOUBLE;</li><li>Поддержка типов данных STRUCT и ARRAY;</li><li>Отслеживание происхождения полей потока данных;</li><li>Частичное выполнение преобразования с просмотром промежуточных результатов;</li><li>Просмотр сгенерированного кода приложения, его редактирование и запуск на исполнение;</li><li>Валидация трансформации на основе базы данных часто повторяемых ошибок;</li><li>Поддержка Spark Catalyst Optimizer.</li></ul><p><strong>Дизайнер Workflow</strong></p><p>Дизайнер Workflow - интерфейс для визуальной разработки потоков управления последовательностями преобразований данных.</p><p>Основные возможности:</p><ul><li>Создание потоков управления для параллельного или последовательного исполнения преобразований данных, а также потоков управления с возможностью настройки условий для запуска преобразований;</li><li>Универсальные элементы управления преобразованиями: shell scripts и java scripts;</li><li>Возможность создания потоков управления последовательностями преобразований с использованием вложенных объектов Workflow;</li><li>Возможность настройки исполнения Workflow по расписанию или по событиям файловой системы.</li></ul><p><strong>Безопасность</strong></p><ul><li>Централизованная аутентификация пользователей с использованием корпоративного сервера каталогов (LDAP);</li><li>Ролевая авторизация. Возможные роли: developer, operator, viewer;</li><li>Шифрование паролей доступа к внешним системам;</li><li>Использование алгоритма аутентификации Kerberos для подключения к исполняющим средам.</li></ul><p><strong>Версионность и teamwork</strong></p><ul><li>Блокировка одновременных обновлений;</li><li>Интеграция Apache Subversion;</li><li>Поддержка иерархии проектов;</li><li>Синхронизация с системой контроля версий TortoiseSVN для выбранного объекта или проекта;</li><li>Защищенный от обновлений код (определяемый пользователем) сохраняется при обновлении версии метаданных.</li></ul><p><strong>Поддержка рабочих сред</strong></p><p>Поддержка цикла разработки: разработка-&gt;тестирование-&gt;Запуск на рабочей среде.</p><ul><li>Импорт/экспорт метаданных;</li><li>Перенос метаданных между средами как полный, так и отдельного проекта;</li><li>Перезапись URL-адресов, паролей и т.д. при переносе в новую среду.</li></ul><p><strong>Дополнительные инструменты</strong></p><ul><li><p>Консоль HDFS: просмотр, сохранение файлов из/в файловой системы HDFS;</p></li><li><p>Консоль Livy: просмотр задач на сервере Livy, просмотр журналов, отмена задачи;</p></li><li><p>Консоль Oozie: обзор задач workflow и координатора на сервере Oozie, просмотр журналов, отмена или перезапуск задач;</p></li><li><p>Обозреватель объектов: просмотр дерева объектов метаданных.</p><p>&nbsp;</p></li></ul><p><a name='quick_start'></a></p><h1><a name='header-n335' class='md-header-anchor '></a>Quick start</h1><h2><a name='header-n5482' class='md-header-anchor '></a>Вход в программу</h2><p>Запустите браузер и в адресной строке введите строку:</p><p><strong><a href='http://host:port/cim/ddesigner/build/index.html' target='_blank' class='url'>http://host:port/cim/ddesigner/build/index.html</a>?</strong></p><p>,где <strong>host</strong> - хост сервера, на котором установлена программа, <strong>port</strong> - номер порта сервера.</p><p>В окне браузера появится форма авторизации пользователя.</p><p><img src='C:/D/SVN/DOC/MD%20manual/UserManualRU/Pic/Login.png' alt='' referrerPolicy='no-referrer' /></p><p>Для входа в программу укажите имя пользователя, пароль и нажмите кнопку <strong>«Вход»</strong>. На экране появится стартовое окно Neoflex Datagram.<img src='C:/D/SVN/DOC/MD%20manual/UserManualRU/Pic/MainPage.png' alt='' referrerPolicy='no-referrer' /></p><p> </p><p><a id='new_project_creating'></a></p><h2><a name='header-n337' class='md-header-anchor '></a>Создание нового проекта</h2><p>В разделе интерфейса «<strong>ETL/Project</strong>» создайте объект <strong>Project</strong>  с названием <strong>«DemoProject»</strong> (остальные поля оставьте пустыми).</p><p><img src='Pic\ETL_PROJECT.png' alt='' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><blockquote><p><em>Примечание.</em></p><p><em>Атрибуты объектов <strong>Project</strong> описаны в разделе руководства «<a href='#grouping_program_objects'>Группировка объектов программы</a>».</em></p></blockquote><p>Объект <strong>«DemoProject»</strong> необходимо создать, чтобы в дальнейшем привязать к нему объекты <strong>Transformation</strong> и <strong>Workflow</strong>, тем самым объединив их в группу. В последующем данную группу объектов можно будет переносить между программными средами.</p><p><a id='transformation_creating'></a></p><h2><a name='header-n346' class='md-header-anchor '></a>Создание и настройка трансформации</h2><blockquote><p><em>Внимание!</em></p><p><em>Для выполнения действий, описанных далее, необходимо чтобы в программе были настроены <a href='#connecting_to_the_db_of_external_systems'>подключения к базе данных внешней системы</a> и <a href='#connecting_to_the_runtime_environments'>исполняющим средам</a>.</em></p></blockquote><p>&nbsp;</p><p><em>В разделе рассмотрен пример создания объекта <strong>Transformation</strong>, для переноса данных из CSV файла в файлы формата JSON.</em></p><p><em>Предварительно, в файловой системе HDFS, создайте файл-источник данных Demo.txt:</em></p><p><em>1,Иванов,1000.00</em></p><p><em>2,Петров,1200.00</em></p><p><em>3,Сидоров,1250.00</em></p><p>В разделе <strong>&quot;ETL/Transformation&quot;</strong> создайте объект с атрибутами:</p><ul><li><strong>Name</strong> - <strong>DemoTransformation</strong>;</li><li><strong>Label</strong> - <strong>DemoLabelTransformation</strong>;</li><li><strong>Project</strong> - из списка выберите ранее созданный объект «<strong>DemoProject</strong>».</li></ul><blockquote><p><em>Примечание.</em></p><p><em>Атрибуты объектов <strong>Transformation</strong> описаны в разделе «<a href='#transformation_objects'>Объекты Transformation</a>».</em></p></blockquote><p>&nbsp;</p><p><strong>Настройка и запуск трансформации</strong> </p><p>Кнопкой <img src='Pic\PlusButton.png' alt='' referrerPolicy='no-referrer' /> откройте дизайнер трансформаций. В дизайнере трансформаций перетащите элементы <strong>CSV source</strong> и <strong>Local target</strong> в рабочую область и укажите направление процесса переноса данных, как показано на рисунке ниже.</p><p><img src='Pic\TransformScheme.png' alt='' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><blockquote><p><em>На заметку.</em></p><p><em>При переносе элементов в рабочую область, программа автоматически задаст им названия.</em></p></blockquote><p>Кликните по элементу «<strong>CSV_source1</strong>», чтобы открыть панель свойств.</p><p>Для элемента «<strong>CSV_source1</strong>» установите следующие настройки:</p><ul><li><p>В поле <strong>Path</strong> укажите путь к файлу, из которого будут переноситься данные (например: /user/Demo.txt);</p></li><li><p>В группе <strong>CSV</strong> в поле <strong>Delimeter</strong> введите символ, который служит разделителем значений в файле-источнике (в примере это запятая);</p></li><li><p>В группе <strong>OUT PORT-&gt;Fields</strong> добавьте три поля:</p><p><strong>id - Integer</strong></p><p><strong>name - string</strong></p><p><strong>salary - decimal</strong></p></li><li><p>Для остальных настроек оставьте дефолтные значения.</p></li></ul><p>Настройте элемент «<strong>Local_target2</strong>»:</p><ul><li><p>В списке <strong>Local file format</strong> выберите <strong>JSON</strong>;</p></li><li><p>В поле <strong>local file name</strong> укажите каталог, в который будет записан результат трансформации (пример: /user/demo/demo.json);</p></li><li><p>В поле <strong>Input fields mapping</strong> настройте соответствие полей:</p><p><strong>ID - id</strong></p><p><strong>NAME - name</strong></p><p><strong>SALARY - salary</strong></p></li><li><p>В поле <strong>Partitions</strong> добавьте каталог <strong>id</strong>, который будет входить в каталог <strong>demo.json</strong>;</p></li><li><p>Для остальных настроек оставьте значения, которые были заданы программой автоматически.</p></li></ul><blockquote><p><em>Примечание.</em></p><p><em>Элементы диаграмм трансформаций описаны в разделе «<a href='#elements_of_transformation_diagrams'>Элементы диаграмм трансформаций</a>».</em></p></blockquote><p>Сохраните настройки кнопкой <img src='Pic\SaveButton.png' alt='' referrerPolicy='no-referrer' />. Откройте список операций кнопкой <img src='Pic\OperationsButton.png' alt='' referrerPolicy='no-referrer' />и запустите операцию <strong>&quot;Проверить&quot;</strong> для автоматической проверки синтаксиса трансформации. Если действия инструкции выполнены правильно, то программа не обнаружит ошибок.</p><blockquote><p><em>На заметку.</em></p><p><em>В случае обнаружения программой ошибок проверьте код трансформации, для этого воспользуйтесь <a href='#code_editor'>редактором исходного кода</a>.</em> </p></blockquote><p>Выполните операцию <strong>&quot;Запустить&quot;</strong> для запуска исполнения трансформации. После запуска объекта на исполнение, в разделе интерфейса <strong>&quot;Развертывание/Transformation Deployment&quot;</strong> будет создан объект с названием «<strong>autogenerated_tr_DemoTransformation</strong>», который выполнит развертывание и запуск исполнения «<strong>DemoTransformation</strong>» на исполняющей среде Livy Server. </p><blockquote><p><em>На заметку.</em></p><p><em>По кнопке <img src='Pic\SelectTransformationDeploymentButton.png' alt='' referrerPolicy='no-referrer' /> можно создать новый объект Transformation Deployment.</em></p><p><em>Атрибуты объектов <strong>Transformation Deployment</strong> описаны в разделе «<a href='#rtTransformationDeployment'>Объекты Transformation Deployment</a>».</em></p></blockquote><p>Дождитесь окончания исполнения трансформации - на экране появится сообщение:</p><ul><li><p>В случае успешного исполнения трансформации, на экране появится окно с сообщением: «Ок».</p></li><li><p>Если в ходе исполнения объекта возникнет ошибка, то на экране появится окно с текстом, описывающим ошибку.</p><p><a id='transformation_execution_monitoring'></a></p></li></ul><p><a id='transformation_execution_result_viewing'></a></p><h3><a name='header-n424' class='md-header-anchor '></a>Просмотр результата преобразования данных</h3><p>Чтобы просмотреть файлы, полученные в результате исполнения трансформации, перейдите в интерфейс <strong>консоли HDFS</strong>. Для этого перейдите в раздел <strong>&quot;Сервер/Livy&quot;</strong>, в списке выберите сервер на котором разворачивалась трансформация. На открывшейся странице нажмите кнопку <img src='Pic\PlusButton.png' alt='' referrerPolicy='no-referrer' /> и в списке выберите пункт <strong>&quot;Консоль HDFS&quot;</strong>. В консоли перейдите в каталог, который создан в результате выполнения трансформации (данный каталог указывался в настройках элемента &quot;Local_target2&quot; в поле &quot;local file name&quot;).</p><p><img src='Pic\TransformResult.png' alt='' referrerPolicy='no-referrer' /></p><p><a id='workflow_creating'></a> </p><h2><a name='header-n428' class='md-header-anchor '></a>Создание и настройка потока работ</h2><p>Создаваемый объект <strong>Workflow</strong> будет выполнять следующие действия:</p><ol start='' ><li>Запускать трансформацию «DemoTransformation»;</li><li>Анализировать ее выполнение:</li></ol><ul><li>При успешном выполнении трансформации процесс будет завершен;</li><li>При обнаружении ошибки процесс будет прерван.</li></ul><p>В разделе <strong>&quot;ETL/Workflow&quot;</strong> создайте объект с атрибутами:</p><ul><li><strong>Name</strong> - <strong>DemoWorkflow</strong>;</li><li><strong>Label</strong> - <strong>DemoLabel</strong>;</li><li><strong>Project</strong> - из списка выберите ранее созданный объект <strong>DemoProject</strong>.</li></ul><blockquote><p><em>Примечание.</em></p><p><em>Атрибуты объектов <strong>Workflow</strong> описаны в разделе «<a href='#etlWorkflow'>Объекты Workflow</a>».</em></p></blockquote><p><strong>Настройка диаграммы потока работ</strong></p><p>Кнопкой <img src='Pic\PlusButton.png' alt='' referrerPolicy='no-referrer' /> откройте дизайнер потока работ. В рабочую область дизайнера перетащите элементы <strong>Start</strong>, <strong>End</strong>, <strong>Transformation</strong> и <strong>Kill</strong>. Укажите направление потоков управления, как показано на рисунке ниже.</p><p><img src='Pic\WorkflowScheme.png' alt='' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><p>Настройте элементы схемы:</p><ul><li>Для элемента «<strong>transformation</strong>» в поле «<strong>transformation</strong>» выберите значение «<strong>DemoTransformation</strong>», в остальных полях оставьте дефолтные значения;</li><li>В настройках элемента «<strong>kill</strong>» в поле «<strong>message</strong>» укажите текст сообщения об ошибке, например: «<strong>Ошибка! Процесс остановлен</strong>». В остальных полях оставьте значения, которые были заданы программой автоматически.</li></ul><blockquote><p><em>Примечание.</em></p><p><em>Элементы диаграмм потоков работ описаны в разделе «<a href='#elements_of_workflow_diagrams'>Элементы диаграмм объектов Workflow</a>».</em></p></blockquote><p>Сохраните настройки кнопкой <img src='Pic\SaveButton.png' alt='' referrerPolicy='no-referrer' />. Откройте список операций кнопкой <img src='Pic\OperationsButton.png' alt='' referrerPolicy='no-referrer' />и запустите операцию <strong>&quot;Проверить&quot;</strong>, программа автоматически проверит синтаксис настроенной диаграммы объекта «<strong>DemoWorkflow</strong>». Если проверка прошла успешно (это должно быть именно так, если действия, описанные в инструкции, выполнены правильно), то запустите объект на исполнение (операция <strong>&quot;Запустить&quot;</strong>)</p><p>После запуска объекта на исполнение, в разделе интерфейса «<strong>Развертывание/Workflow Deployment</strong>» будет создан объект «<strong>autogenerated_wf_DemoWorkflow</strong>», который развернет и запустит исполнение «<strong>DemoWorkflow</strong>» на исполняющей среде Oozie.</p><blockquote><p><em>На заметку.</em></p><p><em>По кнопке <img src='Pic\SelectTransformationDeploymentButton.png' alt='В' referrerPolicy='no-referrer' /> можно создать новый объект Workflow Deployment.</em></p><p><em>Атрибуты объектов <strong>Workflow Deployment</strong> описаны в разделе «<a href='#rtWorkflowDeployment'>Объекты Workflow Deployment</a>».</em></p></blockquote><p>Дождитесь окончания исполнения объекта - на экране появится сообщение:</p><ul><li><p>В случае успешного исполнения, на экране появится окно с сообщением: «Ок».</p></li><li><p>Если в ходе исполнения объекта возникнет ошибка, то на экране появится окно с текстом, описывающим ошибку.</p><p><a id='workflow_execution_monitoring'></a> </p></li></ul><p><a id='applications_starting_and_monitoring_tools'></a></p><h2><a name='header-n478' class='md-header-anchor '></a>Инструменты запуска приложений и мониторинга в Neoflex Datagram</h2><p>Запуск исполнения объектов Workflow или Transformation выполняется приложением Meta Server и состоит из фаз:</p><ol start='' ><li>Генерация исходных файлов;</li><li>Компиляция задачи;</li><li>Развертывание задачи на исполняющей среде;</li><li>Запуск исполнения задачи через планировщик задач (Oozie или Livy Server);</li><li>Выполнение задачи на исполняющей среде.</li></ol><p><strong>Фазы 1, 2, 3</strong> выполняются приложением Meta Server .</p><p><strong>Фаза 4</strong> выполняется приложением Meta Server через планировщик задач Spark - Oozie или Livy Server.</p><p><strong>Фаза 5</strong> выполняется в Hadoop.</p><p><img src='Pic\JobStarting.png' alt='' referrerPolicy='no-referrer' /></p><p>Для мониторинга процессов в Neoflex Datagram используются инструменты:</p><ul><li><strong>Logger</strong> - отображает в реальном времени логи работы приложения Meta Server (фазы 1, 2, 3 и начало 4).</li><li><strong>Консоли Livy и Oozie</strong> - в интерфейсах консолей выводятся данные о результатах исполнения конкретных объектов Transformation и Workflow на исполняющих средах Hartoonworks Data Platform (фаза 5).</li></ul><p><a id='work_with_the_program'></a> </p><h1><a name='header-n502' class='md-header-anchor '></a>Работа с программой</h1><p><a id='connecting_to_the_db_of_external_systems'></a> </p><h2><a name='header-n504' class='md-header-anchor '></a>Подключение Neoflex Datagram к базам данных внешних систем</h2><p>Для подключения Neoflex Datagram к базе данных внешней системы необходимо создать и настроить объекты:</p><ul><li><a href='#jdbcconnection_objects'>JDBC Connection</a>;</li><li><a href='#softwaresystem_objects'>Software System</a>;</li><li><a href='#deployment_objects'>Deployment</a>;</li><li><a href='#scheme_objects'>Scheme</a>;</li><li><a href='#jdbccontext_objects'>JDBC Context</a>.</li></ul><p><img src='Pic\ConToDB.png' alt='Архитектура Neoflex Datagram' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><p><a id='rtJdbcConnection'></a></p><p><a id='jdbcconnection_objects'></a></p><h3><a name='header-n521' class='md-header-anchor '></a>Объекты &quot;JDBC Connection&quot; </h3><p>Объекты <strong>&quot;JDBC Connection&quot;</strong> хранят параметры подключения к базам данных внешнних систем.</p><p>Настройка объектов выполняется в разделе интерфейса <strong>«Подключение/JDBC Connection»</strong>.</p><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;JDBC Connection&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно <br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта. <br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java <br><br><em>Пример: DemoJdbcConnection</em></td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан объект &quot;JDBC Connection&quot; <br><br> <em>Пример: DemoProject</em></td></tr><tr><td>Url</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Url-адрес для подключения к базе данных внешней системы <br><br> <em>Пример: jdbc:oracle:thin:@192.168.0.198:1522</em></td></tr><tr><td>Scheme</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >scheme в терминах JDBC</td></tr><tr><td>Catalog</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >catalog в терминах JDBC</td></tr><tr><td>User</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Имя пользователя, используемое для подключения к базе данных внешней системы <br><br> <em>Пример: system</em></td></tr><tr><td>Password</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Пароль, используемый для подключения к базе данных внешней системы. <br><em>Рекомендуется использовать скрытый способ хранения паролей (см. раздел «<a href='#storing_and_encrypting_passwords'>Хранение паролей в системе</a>»)</em></td></tr><tr><td>Driver</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название драйвера для подключения к базе данных. <br>Название используемого драйвера зависит от типа и версии БД, к которой выполняется подключение <br><br> <em>Пример: oracle.jdbc.driver.OracleDriver</em></td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Операции, доступные для объектов &quot;JDBC Connection&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Протестировать</td><td style='text-align:left;' >Операция выполняет проверку соединения с базой данных внешней системы</td></tr></tbody></table></figure><p><a id='rtSoftwareSystem'></a></p><p><a id='softwaresystem_objects'></a> </p><h3><a name='header-n574' class='md-header-anchor '></a>Объекты &quot;Software System&quot;</h3><p><strong>&quot;Software System&quot;</strong> - объекты, описывающие внешние системы, к базам данных которых подключается Neoflex Datagram.</p><p>Действия с объектами <strong>&quot;Software System&quot;</strong> выполняются в разделе интерфейса <strong>«Подключение/Software System»</strong>.</p><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;Software System&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно <br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта. <br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java и не содержать подчеркиваний <br><br><em>Пример: DemoSoftwareSystem</em></td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан объект &quot;Software System&quot;<br><br><em>Пример: DemoProject</em></td></tr><tr><td>Scheme</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название объекта &quot;Scheme&quot;, описывающего базу данных внешней системы (см. раздел &quot;<a href='#scheme_objects'>Объекты &quot;Scheme&quot;</a>&quot;)</td></tr><tr><td>Default Deployment</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Deployment&quot;, к которому привязан объект &quot;Software System&quot; <br><br><em>Пример: DemoDeployment</em></td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Операции, доступные для объектов &quot;Software System&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Обновить схему</td><td style='text-align:left;' >При запуске операции считываются метаданные БД внешней системы. На основе полученных метаданных обновляется привязанный объект &quot;Scheme&quot;, либо генерируется новый и сохраняется в разделе интерфейса «Подключение/Scheme», одновременно данный объект &quot;Scheme&quot; привязывается к объекту &quot;Software System&quot;, из которого запускалась операция</td></tr></tbody></table></figure><p><a id='rtDeployment'></a></p><p><a id='deployment_objects'></a></p><h3><a name='header-n612' class='md-header-anchor '></a>Объекты &quot;Deployment&quot;</h3><p><strong>&quot;Deployment&quot;</strong> - это объекты, обеспечивающие связь между объектами <strong>&quot;Software System&quot;</strong> и <strong>&quot;JDBC Connection&quot;</strong>.</p><p>Действия с объектами <strong>&quot;Deployment&quot;</strong> выполняются в разделе интерфейса <strong>«Подключение/Deployment»</strong>.</p><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;Deployment&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно <br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта. <br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java <br><br><em>Пример: DemoDeployment</em></td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан объект &quot;Deployment&quot; <br><br><em>Пример: DemoProject</em></td></tr><tr><td>Connection</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;JDBC Connection&quot;, который привязан к объекту &quot;Deployment&quot; <br><br><em>Пример:Demo_JdbcConnection</em></td></tr><tr><td>Software System</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Software System&quot;, который привязан к объекту &quot;Deployment&quot; <br><br><em>Пример: DemoSoftwareSystem</em></td></tr><tr><td>Load Stored Procs</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включении параметра, программа будет выполнять загрузку метаданных по хранимым процедурам</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Операции, доступные для объектов &quot;Deployment&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Обновить схему</td><td style='text-align:left;' >Операция посредством объекта &quot;JDBC Connection&quot;, который указан в атрибутах объекта &quot;Deployment&quot;, считывает метаданные БД внешней системы. На основе полученных метаданных обновляет имеющийся объект &quot;Scheme&quot;, либо генерирует новый и сохраняет его в разделе интерфейса «Подключение/Scheme». Далее привязывает (обновленный или созданный) объект &quot;Scheme&quot; к объекту &quot;Software System&quot;, выбранному в настройках объекта &quot;Deployment&quot;</td></tr></tbody></table></figure><p><a id='rtScheme'></a></p><p><a id='scheme_objects'></a> </p><h3><a name='header-n653' class='md-header-anchor '></a>Объекты &quot;Scheme&quot;</h3><p>Объекты <strong>&quot;Scheme&quot;</strong> хранят следующую информацию о базе данных внешней системы:</p><ul><li><strong>views</strong> - список динамически формируемых таблиц;</li><li><strong>tables</strong> - список таблиц базы данных;</li><li><strong>Stored Procedures</strong> - список хранимых процедур БД.</li></ul><p>Данные объекты могут быть созданы:</p><ul><li><strong>Автоматически</strong> - при выполнении команды &quot;Обновить схему&quot; объектов &quot;Software System&quot; или &quot;Deployment&quot;;</li><li><strong>Вручную</strong> - в разделе интерфейса <strong>&quot;Подключение/Scheme&quot;</strong>.</li></ul><p><a id='etlJdbcContext'></a></p><p><a id='jdbccontext_objects'></a> </p><h3><a name='header-n670' class='md-header-anchor '></a>Объекты &quot;Jdbc Context&quot;</h3><p><strong>&quot;Jdbc Context&quot;</strong> - это объекты, обеспечивающие выбор подключения к базе данных внешней системы в настройках элементов дизайнера трансформаций (см. раздел «<a href='#elements_of_transformation_diagrams'>Элементы диаграмм трансформаций</a>»).</p><p>Действия с объектами <strong>Jdbc Context</strong> выполняются в разделе интерфейса <strong>«ETL/Jdbc Context»</strong>.</p><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;Jdbc Context&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно <br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта.<br>При указании имени необходимо учитывать, что оно должно соответствовать названию объекта SoftwareSystem и не должно содержать подчеркиваний <br><br><em>Пример: DemoSoftwareSystem</em></td></tr></tbody></table></figure><p><a id='connecting_to_the_runtime_environments'></a> </p><h2><a name='header-n685' class='md-header-anchor '></a>Подключение Neoflex Datagram к исполняющим средам</h2><p>В зависимости от выполняемой задачи (выполнение преобразований или управление потоком работ по преобразованию данных), Neoflex Datagram может взаимодействовать с одной из исполняющих сред:</p><ul><li><a href='http://oozie.apache.org/docs/4.2.0/'><strong>Oozie</strong></a> - исполняет объекты Workflow;</li><li><a href='https://hortonworks.com/blog/livy-a-rest-interface-for-apache-spark/'><strong>Livy Server</strong></a> - исполняет объекты Transformation.</li></ul><p><img src='Pic\ConToExSys.png' alt='Архитектура Neoflex Datagram' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><p>Для взаимодействия с исполняющими средами в программе Neoflex Datagram должны быть созданы и настроены объекты:</p><ul><li><a href='#oozie_objects'>Oozie</a>;</li><li><a href='#workflowdeployment_objects'>Workflow Deployment</a>;</li><li><a href='#livyserver_objects'>Livy Server</a> (работает со Spark версии 2.Х и выше);</li><li><a href='#transformationdeployment_objects'>Transformation Deployment</a>;</li><li><a href='#coordinatordeployment_objects'>Coordinator Deployment</a> - для развертывания заданий <a href='#scheduled_execution_of_the_created_workflow_objects'>планировщика задач Oozie</a>.</li></ul><p><a id='rtOozie'></a></p><p><a id='oozie_objects'></a> </p><h3><a name='header-n708' class='md-header-anchor '></a>Объекты &quot;Oozie&quot;</h3><p>Объекты <strong>&quot;Oozie&quot;</strong> хранят параметры подключения к серверу Oozie и управления исполняющей средой.</p><p>Действия с объектами <strong>&quot;Oozie&quot;</strong> выполняются в разделе интерфейса <strong>«Сервер/Oozie»</strong>.</p><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;Oozie&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта &quot;Oozie&quot;. <br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java<br><br><em>Пример: DemoOozie</em></td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан объект &quot;Oozie&quot; <br><br><em>Пример: DemoProject</em></td></tr><tr><td>Job Traсker</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Url-адрес Job Tracker <br><br><em>Пример: cloud.neo.ru:8050</em></td></tr><tr><td>Name Node</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Параметры доступа к файловой системе HDFS <br><br><em>Пример: hdfs://cloud.neo.ru:8020</em></td></tr><tr><td>Master</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Url-адрес для подключения к кластеру (<a href='https://spark.apache.org/docs/latest/submitting-applications.html#master-urls'>подробное описание</a>)<br><br><em>Пример: spark://192.168.2.65:5310, local[4]</em></td></tr><tr><td>Mode</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Атрибут определяет вариант развертывания драйвера Spark:<br><strong>client</strong> (по умолчанию) - на локальной машине в качестве внешнего клиента;<br><strong>cluster</strong> - на рабочем узле;<br><strong>yarn</strong> - YARN кластер. Конфигурация кластера задается переменными окружения</td></tr><tr><td>is Default</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре, объект &quot;Oozie&quot; будет использоваться по умолчанию при запуске на исполнение объектов &quot;Workflow&quot;.<br><br><em>В случае если в Neoflex Datagram создано несколько объектов &quot;Oozie&quot;, и у всех включен параметр is default, то для исполнения объекта &quot;Workflow&quot;, объект &quot;Oozie&quot; будет выбран случайно</em></td></tr><tr><td>Spark 2</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметр требует включения, если используется Spark версии 2.1 и выше</td></tr><tr><td>Аутентификация</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре для подключения к серверу Spark будет использоваться алгоритм аутентификации Kerberos</td></tr><tr><td>Путь к keytab</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к файлу, в котором хранятся пароли principal</td></tr><tr><td>User Principal</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Principal, под которым авторизуется Meta Server</td></tr><tr><td>HCAT URL</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Url-адрес Hive metastore</td></tr><tr><td>HCAT Principal</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Principal, под которым авторизуется Hive</td></tr><tr><td>Num Executors</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Количество исполняющих процессов Spark<br><br><em>Пример: 5</em></td></tr><tr><td>Executor Cores</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Количество ядер, задействованных для реализации исполняющего процесса Spark<br><br><em>Пример: 2</em></td></tr><tr><td>Driver Memory</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объем памяти, используемый для инициализации SparkContext<br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>Executor Memory</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объем памяти, используемый для каждого исполняющего процесса Spark<br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>Queue</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >YARN очередь, в которой будет выполняться задача</td></tr><tr><td>Retry Max</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество попыток запуска на исполнение задачи Spark<br><br><em>Пример: 5</em></td></tr><tr><td>Retry Interval</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Временной интервал между попытками запуска на исполнение задачи Spark<br><br><em>Пример: 10</em></td></tr><tr><td>Cred</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Учетные данные реализаций (<a href='https://oozie.apache.org/docs/4.2.0/DG_ActionAuthentication.html#Built-in_Credentials_Implementations'>подробнее</a>)</td></tr><tr><td>Sftp</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметр не используется.<br><br> Sftp-адрес сервера, на котором разворачиваются артефакты объектов &quot;Workflow&quot;<br><br><em>Пример: sftp://192.168.2.44</em></td></tr><tr><td>Http</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Url-адрес Oozie API<br><br><em>Пример: <a href='http://cloud.neo.ru:12000' target='_blank' class='url'>http://cloud.neo.ru:12000</a></em></td></tr><tr><td>Webhdfs</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Url-адрес HDFS API<br><br><em>Пример: <a href='http://cloud3.neo.ru:50070/webhdfs/v1' target='_blank' class='url'>http://cloud3.neo.ru:50070/webhdfs/v1</a></em></td></tr><tr><td>Home</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Каталог в HDFS, используемый для развертывания &quot;Workflow&quot;<br><br><em>Пример: /user</em></td></tr><tr><td>User</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Пользователь HDFS, от имени которого разворачиваются &quot;Workflow&quot;<br><br><em>Пример: hdfs</em></td></tr><tr><td>Files Browser Util</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Url web-консоли Hadoop</td></tr></tbody></table></figure><p><a id='rtWorkflowDeployment'></a></p><p><a id='workflowdeployment_objects'></a></p><h3><a name='header-n828' class='md-header-anchor '></a>Объекты &quot;Workflow Deployment&quot; </h3><p>Объекты <strong>&quot;Workflow Deployment&quot;</strong> создают комплект файлов, описывающих &quot;Workflow&quot;, передают их на сервер Oozie и запускают исполнение.</p><p>Действия с объектами <strong>&quot;Workflow Deployment&quot;</strong> выполняются в разделе интерфейса <strong>«Развертывание/Workflow Deployment»</strong>.</p><p>&nbsp;</p><blockquote><p><em>На заметку.</em></p><p><em>В списке могут присутствовать объекты <strong>&quot;Workflow Deploement&quot;</strong> с названием <strong>«autogenerated_[workflow name]»</strong>. Данные объекты создаются автоматически при запуске на исполнение объектов <strong>&quot;Workflow&quot;</strong> без указания конкретного объекта &quot;Workflow Deployment&quot;.</em></p></blockquote><p>&nbsp;</p><p><a id='tab_atributes_workflowdeployment_objects'></a></p><p><strong>Описание атрибутов объектов &quot;Workflow Deploement&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java<br><br><em>Пример: DemoWorkflowDeployment</em></td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан объект &quot;Workflow Deployment&quot;<br><br><em>Пример: DemoProject</em></td></tr><tr><td>Oozie</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Oozie&quot;, описывающий подключение к серверу на котором исполняется объект &quot;Workflow Deploement&quot;<br><br><em>Пример: DemoOozie</em></td></tr><tr><td>Deployments</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список объектов &quot;Deployment&quot;, при помощи которых осуществляется доступ к базам данных внешних систем<br><br><em>Пример: DemoDeployment</em></td></tr><tr><td>Start</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Разворачиваемый объект Workflow</td></tr><tr><td>Debug</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре создаются файлы с промежуточным результатом трансформации</td></tr><tr><td>Slide Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество данных, которое единовременно записывается в Jdbc приемник данных<br><br><em>Пример: 500</em></td></tr><tr><td>Reject Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Максимально допустимое количество ошибок при записи данных в Jdbc приемник данных. При превышении установленного значения, выполнение трансформации будет принудительно завершено<br><br><em>Пример: 1000</em></td></tr><tr><td>Fetch Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество данных, которое единовременно считывается из Jdbc источника данных<br><br><em>Пример: 100000</em></td></tr><tr><td>Partition Num</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество рабочих процессов, исполняемых при записи данных в Jdbc приемник данных<br><br><em>Пример: 4</em></td></tr><tr><td>Master</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Url-адрес для подключения к кластеру (<a href='https://spark.apache.org/docs/latest/submitting-applications.html'>подробное описание</a>)<br><em>Данная настройка объекта &quot;Workflow Deployment&quot; имеет приоритет над аналогичной настройкой объекта &quot;Oozie&quot;</em><br><br><em>Пример: spark://192.168.2.65:5310, local[4]</em></td></tr><tr><td>Mode</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Атрибут определяет вариант развертывания драйвера Spark:<br><strong>client</strong> (по умолчанию) - на локальной машине в качестве внешнего клиента;<br><strong>cluster</strong> - на рабочем узле;<br><strong>yarn</strong> - YARN кластер. Конфигурация кластера задается переменными окружения<br><em>Данная настройка объекта &quot;Workflow Deployment&quot; имеет приоритет над аналогичной астройкой объекта &quot;Oozie&quot;</em></td></tr><tr><td>Num Executors</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество исполняющих процессов Spark<br><em>Данная настройка объекта &quot;Workflow Deployment&quot; имеет приоритет над аналогичной настройкой объекта &quot;Oozie&quot;</em><br><br><em>Пример: 5</em></td></tr><tr><td>Executor Cores</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество ядер, задействованных для реализации исполняющего процесса Spark<br><em>Данная настройка объекта &quot;Workflow Deployment&quot; имеет приоритет над аналогичной настройкой объекта &quot;Oozie&quot;</em><br><br><em>Пример: 2</em></td></tr><tr><td>Driver Memory</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объем памяти, используемый для инициализации SparkContext<br><em>Данная настройка объекта &quot;Workflow Deployment&quot; имеет приоритет над аналогичной настройкой объекта &quot;Oozie&quot;</em><br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>Executor Memory</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объем памяти, используемый для каждого исполняющего процесса Spark<br><em>Данная настройка объекта &quot;Workflow Deployment&quot; имеет приоритет над аналогичной настройкой объекта &quot;Oozie&quot;</em><br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>Jvm Opts</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Опции Java Virtual Machine</td></tr><tr><td>Persist On Disk</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при выполнении операции Check Point будет происходить сохранение промежуточных данных на диск, а не в память</td></tr><tr><td>Dynamic Allocation</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При помощи данного параметра можно включить механизм распределения ресурсов в зависимости от рабочей нагрузки (по умолчанию выключено)</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='tab_parameters_workflowdeployment_objects'></a></p><p><strong>Описание параметров объектов &quot;Workflow Deployment&quot;</strong></p><figure><table><thead><tr><th>Параметр</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название параметра</td></tr><tr><td>Expression</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Не используется для объектов &quot;Workflow Deployment&quot;</td></tr><tr><td>Description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание параметра</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Описание опций Spark</strong></p><figure><table><thead><tr><th>Параметр</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название опции</td></tr><tr><td>Value</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Значение опции</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='tab_operations_workflowdeployment_objects'></a></p><p><strong>Операции, доступные для объектов &quot;Workflow Deployment&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Проверить</td><td style='text-align:left;' >Neoflex Datagram выполняет проверку корректности объекта &quot;Workflow&quot; и привязанных объектов &quot;Transformation&quot;</td></tr><tr><td>Сгенерировать</td><td style='text-align:left;' >Операция генерирует файлы XML, описывающие объект &quot;Workflow&quot;, и код на языке Scala, описывающий связанные c объектом &quot;Workflow&quot; объекты &quot;Transformation&quot;</td></tr><tr><td>Собрать</td><td style='text-align:left;' >При выполнении операции происходит компиляция JAR-файлов из кода языка Scala, описывающего объекты &quot;Transformation&quot; и формирование каталогов с XML и JAR-файлами для передачи на Oozie</td></tr><tr><td>Скопировать</td><td style='text-align:left;' >При выполнении операции файлы XML и JAR копируются с сервера Neoflex Datagram в файловую систему ОС Linux сервера, на котором работает Oozie, далее выполняется копирование файлов в HDFS</td></tr><tr><td>Сгенерировать и скопировать</td><td style='text-align:left;' >Последовательно выполняет операции: сгенерировать, собрать, скопировать</td></tr><tr><td>Запустить</td><td style='text-align:left;' >Операция запускает исполнение файлов XML и JAR на Oozie</td></tr><tr><td>Сгенерировать и запустить</td><td style='text-align:left;' >Последовательно выполняет операции: сгенерировать, собрать, скопировать и запустить</td></tr><tr><td>Собрать и запустить</td><td style='text-align:left;' >Последовательно выполняет операции: собрать, скопировать и запустить</td></tr></tbody></table></figure><p><a id='rtLivyServer'></a></p><p><a id='livyserver_objects'></a> </p><h3><a name='header-n987' class='md-header-anchor '></a>Объекты &quot;Livy Server&quot;</h3><p>Объекты <strong>&quot;Livy Server&quot;</strong> хранят параметры подключения к серверу Livy и управления исполняющей средой Spark версии 2.Х. и выше.</p><p>Действия с объектами <strong>&quot;Livy Server&quot;</strong> выполняются в разделе интерфейса <strong>«Сервер/Livy Server»</strong>.</p><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;Livy Server&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта &quot;Livy Server&quot;.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Project&quot;, к которому привязан объект LivyServer</td></tr><tr><td>Http</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Url-адрес Livy Server API<br><br><em>Пример: <a href='http://cloud.company.ru:8090' target='_blank' class='url'>http://cloud.company.ru:8090</a></em></td></tr><tr><td>Home</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Каталог, используемый для развертывания &quot;Transformation&quot;<br><br><em>Пример: /user</em></td></tr><tr><td>User</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Пользователь HDFS, от имени которого разворачиваются &quot;Transformation&quot;<br><br><em>Пример: hdfs</em></td></tr><tr><td>WebHDFS</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Url-адрес HDFS API<br><br><em>Пример: <a href='http://cloud3.company.ru:50070/webhdfs/v1' target='_blank' class='url'>http://cloud3.company.ru:50070/webhdfs/v1</a></em></td></tr><tr><td>Аутентификация<br>Kerberos</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре для подключения к серверу Spark будет использоваться алгоритм аутентификации Kerberos</td></tr><tr><td>Путь к keytab</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к файлу, в котором хранятся пароли для principal</td></tr><tr><td>User Principal</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Principal, под которым авторизуется Meta Server</td></tr><tr><td>Num Executors</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Количество исполняющих процессов Spark<br><br><em>Пример: 5</em></td></tr><tr><td>Executor Cores</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Количество ядер, задействованных для реализации исполняющего процесса Spark<br><br><em>Пример: 2</em></td></tr><tr><td>Driver Memory</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объем памяти, используемый для инициализации SparkContext<br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>Executor Memory</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объем памяти, используемый для каждого исполняющего процесса Spark<br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>is default</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре, объект &quot;Livy Server&quot; будет использоваться по умолчанию при запуске на исполнение объектов &quot;Transformation&quot;.<br><em>Если в программе создано несколько объектов &quot;Livy Server&quot;, и у всех включен параметр &quot;is default&quot;, то для исполнения объекта Transformation объект &quot;Livy Server&quot; будет выбран случайно</em></td></tr></tbody></table></figure><p><a id='rtTransformationDeployment'></a></p><p><a id='transformationdeployment_objects'></a> </p><h3><a name='header-n1055' class='md-header-anchor '></a>Объекты &quot;Transformation Deployment&quot; </h3><p>Объекты <strong>&quot;Transformation Deployment&quot;</strong> создают JAR-файлы, описывающие объекты &quot;Transformation&quot;, и разворачивают их на сервере Livy.</p><p>Действия с объектами <strong>&quot;Transformation Deployment&quot;</strong> выполняются в разделе интерфейса <strong>«Развертывание/Transformation Deployment»</strong>.</p><p>&nbsp;</p><blockquote><p><em>Примечание. <br></em></p><p><em>В списке могут присутствовать объекты <strong>&quot;Transformation Deployment&quot;</strong> с названием <strong>«autogenerated_[transformation name]»</strong>. Данные объекты создаются автоматически при запуске на исполнение объектов <strong>&quot;Transformation&quot;</strong> без указания объекта &quot;Transformation Deploement&quot;.</em></p></blockquote><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;Transformation Deployment&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта &quot;Transformation Deployment.<br>Имя объекта должно удовлетворять правилам формирования идентификаторов в языке Java<br><br><em>Пример: DemoTransformationDeployment</em></td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Project&quot;, к которому привязан объект &quot;Transformation Deployment&quot;<br><br><em>Пример: DemoProject</em></td></tr><tr><td>Livy Server</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Livy Server&quot;, который обеспечивает подключение к исполняющей среде<br><br><em>Пример: DemoLivyServer</em></td></tr><tr><td>Transformation</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Transformation&quot;, который обрабатывается объектом &quot;Transformation Deployment&quot;<br><br><em>Пример: DemoTransformation</em></td></tr><tr><td>Deployments</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Deployment&quot; для доступа к базам данных внешних систем<br><br><em>Пример: DemoDeployment</em></td></tr><tr><td>Debug</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре создаются файлы с промежуточным результатом трансформации</td></tr><tr><td>Slide Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество данных, которое единовременно записывается в Jdbc приемник данных<br><br><em>Пример: 500</em></td></tr><tr><td>Reject Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Максимально допустимое количество ошибок при записи данных в Jdbc приемник данных. При превышении установленного значения, выполнение трансформации будет принудительно завершено<br><br><em>Пример: 1000</em></td></tr><tr><td>Fetch Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Максимальный объем данных, единовременно захватываемый из Jdbc источника данных<br><br><em>Пример: 100000</em></td></tr><tr><td>Partition Num</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество рабочих процессов, исполняемых при записи данных в Jdbc приемник данных<br><br><em>Пример: 4</em></td></tr><tr><td>Master</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Url-адрес для подключения к кластеру (<a href='https://spark.apache.org/docs/latest/submitting-applications.html'>подробное описание</a>)<br><br><em>Пример: spark://192.168.2.65:5310, local[4]</em></td></tr><tr><td>Mode</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Атрибут определяет вариант развертывания драйвера Spark:<br><strong>client</strong> (по умолчанию) - на локальной машине в качестве внешнего клиента;<br><strong>cluster</strong> - на рабочем узле;<br><strong>yarn</strong> - YARN кластер. Конфигурация кластера задается переменными окружения</td></tr><tr><td>Num Executors</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Количество исполняющих процессов Spark<br><br><em>Пример: 5</em></td></tr><tr><td>Executor Cores</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Количество ядер, задействованных для реализации исполняющего процесса Spark<br><br><em>Пример: 2</em></td></tr><tr><td>Driver Memory</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объем памяти, используемый для инициализации SparkContext<br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>Executor Memory</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объем памяти, используемый для каждого исполняющего процесса Spark<br><br><em>Пример: 512m, 2g</em></td></tr><tr><td>Persist on disk</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при выполнении операции &quot;Check Point&quot; будет происходить сохранение промежуточных данных на диск, а не в память</td></tr><tr><td>is default</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре, объект &quot;Livy Server&quot; будет использоваться по умолчанию при запуске на исполнение объектов &quot;Transformation&quot;.<br><em>Если в программе создано несколько объектов &quot;Livy Server&quot;, и у всех включен параметр &quot;is default&quot;, то для исполнения объекта Transformation объект &quot;Livy Server&quot; будет выбран случайно</em></td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Описание параметров объектов &quot;Transformation Deployment&quot;</strong></p><figure><table><thead><tr><th>Параметр</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название параметра объекта</td></tr><tr><td>Expression</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Поле не используется для объектов &quot;Transformation Deployment&quot;</td></tr><tr><td>Description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание параметра</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Операции, доступные для объектов &quot;Transformation Deployment&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Проверить</td><td style='text-align:left;' >Neoflex Datagram выполняет проверку корректности привязанного объекта &quot;Transformation&quot;</td></tr><tr><td>Сгенерировать</td><td style='text-align:left;' >Операция генерирует код на языке Scala, описывающий привязанный объект &quot;Transformation&quot;</td></tr><tr><td>Собрать</td><td style='text-align:left;' >При выполнении операции происходит компиляция JAR-файлов из кода языка Scala, описывающего объекты &quot;Transformation&quot; для передачи на Livy Sеrver</td></tr><tr><td>Скопировать</td><td style='text-align:left;' >При выполнении операции JAR-файлы копируются с сервера Neoflex Datagram на исполняющую среду Livy Server</td></tr><tr><td>Сгенерировать и скопировать</td><td style='text-align:left;' >Последовательно выполняет операции: сгенерировать, собрать, скопировать</td></tr><tr><td>Запустить</td><td style='text-align:left;' >Операция запускает исполнение файлов JAR на Livy Server</td></tr><tr><td>Сгенерировать и запустить</td><td style='text-align:left;' >Последовательно выполняет операции: сгенерировать, собрать, скопировать и запустить</td></tr><tr><td>Собрать и запустить</td><td style='text-align:left;' >Последовательно выполняет операции: собрать, скопировать и запустить</td></tr></tbody></table></figure><p><a id='rtCoordinatorDeployment'></a></p><p><a id='coordinatordeployment_objects'></a> </p><h3><a name='header-n1192' class='md-header-anchor '></a>Объекты &quot;Coordinator Deployment&quot;</h3><p>Объекты <strong>&quot;Coordinator Deployment&quot;</strong> создают файлы, описывающие объект <strong>&quot;Co Job&quot;</strong>, передают их на сервер Oozie и запускают исполнение задачи.</p><p>Действия с объектами <strong>&quot;Coordinator Deployment&quot;</strong> выполняются в разделе интерфейса <strong>«Развертывание/Coordinator Deployment»</strong>.</p><p>Большинство атрибутов, параметров и операций объектов <strong>&quot;Coordinator Deployment&quot;</strong> аналогичны <a href='#tab_atributes_workflowdeployment_objects'>атрибутам</a>, <a href='#tab_parameters_workflowdeployment_objects'>параметрам</a> и <a href='#tab_operations_workflowdeployment_objects'>операциям</a> объектов <strong>&quot;Workflow Deployment&quot;.</strong></p><p>&nbsp;</p><p><strong>Описание уникальных атрибутов объектов &quot;Coordinator Deployment&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Coordinator</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название привязанного объекта &quot;Co Job&quot;<br><br><em>Пример: DemoCoJob</em></td></tr><tr><td>Job Id</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Идентификатор привязанного объекта &quot;Co Job&quot; (задается программой автоматически)</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Уникальные операции объектов &quot;Coordinator Deployment&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Текущее состояние</td><td style='text-align:left;' >Выдает сообщение, описывающее текущее состояние исполнения объекта &quot;Co Job&quot;</td></tr></tbody></table></figure><p><a id='data_transformation'></a></p><h2><a name='header-n1221' class='md-header-anchor '></a>Трансформация исходных данных</h2><p><a id='etlTransformation'></a></p><p><a id='transformation_objects'></a> </p><h3><a name='header-n1224' class='md-header-anchor '></a>Объекты &quot;Transformation&quot;</h3><p><strong>&quot;Transformation&quot;</strong> - это объекты, описывающие логику преобразований данных.</p><p>Действия с объектами <strong>&quot;Transformation&quot;</strong> выполняются в разделе интерфейса <strong>«ETL/Transformation»</strong>.</p><p>&nbsp;</p><p><strong>Описание атрибутов объектов &quot;Transformation&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта &quot;Transformation&quot;.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java<br><br><em>Пример: DemoTransformationDeployment</em></td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Примечание или короткий комментарий (например: DemoLabel).<br>Допускается использовать кириллицу</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Project&quot;, к которому привязан объект &quot;Transformation&quot;</td></tr><tr><td>Json View</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Представление объекта в формате json</td></tr><tr><td>Sources</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание источников данных (sources), используемых в схеме трансформации</td></tr><tr><td>Targets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание приемников данных (targets), используемых в схеме трансформации</td></tr><tr><td>Transformation steps</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание элементов преобразующих данные (data transformation), используемых в схеме трансформации</td></tr><tr><td>Transitions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание переходов (data flows) между элементами схемы трансформации</td></tr><tr><td>Parameters</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметры объекта &quot;Transformation&quot;.<br><strong>Name</strong> - Название параметра объекта;<br><strong>Expression</strong> - Включение параметра означает, что значение является выражением языка Scala. В обратном случае - текстовое значение;<br><strong>Description</strong> - Описание параметра</td></tr></tbody></table></figure><p>&nbsp;</p><blockquote><p><em>На заметку.</em></p><p><em>Для отправки измененных параметров объекта &quot;Transformation&quot; необходимо выполнить операцию <strong>«Запустить»</strong> для соответствующего объекта <strong>&quot;Transformation Deployment&quot;</strong>.</em></p></blockquote><p>&nbsp;</p><p><strong>Операции объектов &quot;Transformation&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Импорт</td><td style='text-align:left;' >Из каталога проекта, имя которого совпадает с именем объекта &quot;Project&quot;, к которому привязан выбранный объект &quot;Transformation&quot;, импортируются данные объекта &quot;Transformation&quot;</td></tr><tr><td>Экспорт</td><td style='text-align:left;' >В каталог проекта, имя которого совпадает с именем объекта &quot;Project&quot;, к которому привязан выбранный объект &quot;Transformation&quot;, экспортируются данные объекта &quot;Transformation&quot;</td></tr><tr><td>Проверить</td><td style='text-align:left;' >Операция выполняет проверку корректности настроек объекта и логики его работы</td></tr><tr><td>Запустить</td><td style='text-align:left;' >Операция запускает исполнение трансформации</td></tr></tbody></table></figure><p><a id='elements_of_transformation_diagrams'></a> </p><h3><a name='header-n1294' class='md-header-anchor '></a>Элементы диаграмм трансформаций</h3><p><a id='etlSources'></a> </p><h4><a name='header-n1296' class='md-header-anchor '></a>Группа элементов SOURCES</h4><p><a id='etlLocalSource'></a> </p><p><a id='local_source'></a> </p><h5><a name='header-n1299' class='md-header-anchor '></a><strong><em>Local source</em></strong></h5><p>В качестве источника данных используется файл, хранимый в файловой системе HDFS сервера Oozie. При помощи данного элемента может быть создана схема потоковой обработки исходных данных.</p><p><strong>Описание атрибутов элемента Local source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк выводимых в окне просмотра данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Local file name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу, используемому в качестве источника данных<br><br><em>Пример: /user/hdfs/demo/demo.txt</em></td></tr><tr><td>Local File Format</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Формат записи данных в файле-источнике:<br><strong>JSON</strong>;<br><strong>PARQUET;</strong><br><strong>ORC;</strong><br><strong>JDBC;</strong><br><strong>CSV</strong></td></tr><tr><td>Streaming</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре элемент трансформации отслеживает появление новых данных и запускает исполнение трансформации (потоковая обработка данных)</td></tr><tr><td>Options</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Опции элемента трансформации:<br><strong>key</strong> - название опции;<br><strong>value</strong> - значение опции<br><br><em>Пример настройки опции для чтения данных из CSV файла, в котором в качестве разделителя используется символ «;»:<br><strong>sep</strong> - значение поля key;<br><strong>;</strong> - значение поля value</em></td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlCSVSource'></a></p><p><a id='csv_source'></a> </p><h5><a name='header-n1350' class='md-header-anchor '></a><strong><em>CSV source</em></strong></h5><p>В качестве источника данных используется файл, содержащий данные в формате CSV.</p><p><strong>Описание атрибутов элемента CSV source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк выводимых в окне просмотра данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>HDFS</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра указывает на то, что файл-источник хранится в файловой системе HDFS, в обратном случае - используется файловая система хоста</td></tr><tr><td>Path</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу-источнику данных</td></tr><tr><td>Charset</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Кодировка, используемая в файле-источнике</td></tr><tr><td>Header</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при извлечении данных из файла будет пропускаться первая строка (используется, если в CSV используется заголовок)</td></tr><tr><td>Delimiter</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Символ, используемый в качестве разделителя между значениями в CSV</td></tr><tr><td>Quote</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Символы, предназначенные для выделения значения, содержащего символы Delimiter<br><br><em>Пример:<br>Если в качестве разделителя используется символ [,], то значение 2,5 должно быть обозначено: &quot;2,5&quot;</em></td></tr><tr><td>Escape</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Символы, предназначенные для выделения значения, содержащего символы Quote</td></tr><tr><td>Comment</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Символ, предназначенный для обозначения комментария. Строки, помеченные таким символом, игнорируются при извлечении данных</td></tr><tr><td>Date format</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Формат даты, используемый в файле-источнике<br><br><em>Пример: dd.mm.yyyy</em></td></tr><tr><td>Null value</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Текстовое значение, которое интерпретируется как Null при чтении данных из файла-источника</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlXmlSouece'></a></p><p><a id='xml_source'></a> </p><h5><a name='header-n1425' class='md-header-anchor '></a><strong><em>XML source</em></strong></h5><p>В качестве источника используется файл, содержащий данные в формате XML (<a href='https://github.com/databricks/spark-xml'>более подробное описание</a>). Работа элемента поддержана в версии Spark 2.Х и выше.</p><p><strong>Описание атрибутов элемента XML source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк выводимых в окне просмотра данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>HDFS</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра указывает на то, что файл-источник хранится в файловой системе HDFS, в обратном случае - используется файловая система хоста</td></tr><tr><td>Path</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу-источнику данных</td></tr><tr><td>Charset</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Кодировка, используемая в файле</td></tr><tr><td>Row Tag</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Тег XML-файла, который будет определен как строка</td></tr><tr><td>Sampling Ratio</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Процент строк для определения типа данных в полях.<br><br><em>Пример:<br>так как xml может быть создан без проверки, то его содержимое может выглядеть следующим образом:<br><code>&lt;rows&gt;</code><br><code>&lt;row&gt;&lt;field1&gt;1&lt;/field1&gt;&lt;row&gt;</code><br><code>&lt;row&gt;&lt;field1&gt;2&lt;/field1&gt;&lt;row&gt;</code><br><code>&lt;row&gt;&lt;field1&gt;3&lt;/field1&gt;&lt;row&gt;</code><br><code>&lt;row&gt;&lt;field1&gt;Январь&lt;/field1&gt;&lt;row&gt;</code><br><code>&lt;/rows&gt;</code><br>В результате, если Sampling Ratio установить 75% (без последней строки), то тип данных для field1 определится как INTEGER. Если 100%, то уже STRING</em></td></tr><tr><td>Exclude Attribute</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при чтении атрибуты элементов будут исключены</td></tr><tr><td>Treat Empty Values As Nulls</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при чтении пустые значения будут определены как 0</td></tr><tr><td>Mode</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Выбор режима обработки поврежденных записей:<br><strong>PERMISSIVE</strong> (по умолчанию) - при обнаружении поврежденной записи в строке устанавливается значение Null. Текст поврежденной строки сохраняетcя в новое поле, указанное в параметре Сolumn Name Of Corrupt Record;<br><strong>DROPMALFORMED</strong> - игнорирует поврежденную запись;<br><strong>FAILFAST</strong> - при обнаружении поврежденной записи выводит сообщение с предупреждением</td></tr><tr><td>Column Name Of Corrupt Record</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название поля, в котором сохраняются поврежденные строки в режиме PERMISSIVE</td></tr><tr><td>Attribute Prefix</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Символ, используемый для обособления атрибутов</td></tr><tr><td>Value Tag</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тег, используемый в качестве метки для значения атрибута элемента, не имеющего наследников</td></tr><tr><td>Ignore Surrounding Spaces</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при чтении данных пробелы, окружающие значение будут игнорироваться</td></tr><tr><td>Explode Fields</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список полей, по которым будут развернуты строки, т.е. для каждого элемента внутри указанного массива будет создана строка во всем наборе данных.<br>Список формируется при помощи параметров:<br><strong>alias</strong> - псевдоним поля;<br><strong>path</strong> - путь к полю.<br><br><em>Пример:</em><br><em>Содержимое xml файла:</em><br> <code>&lt;rows&gt;</code> <br> <code>&lt;dep name=”Бухгалтерия”&gt;</code> <br> <code>&lt;employers&gt;</code> <br> <code>&lt;fio&gt;Иванов&lt;/fio&gt;</code> <br><code>&lt;fio&gt;Петров&lt;/fio&gt;</code> <br> <code>&lt;fio&gt;Сидоров&lt;/fio&gt;</code> <br> <code>&lt;/employers&gt;</code> <br> <code>&lt;/dep&gt;</code> <br> <code>&lt;dep name=”HR”&gt;</code> <br><code>&lt;employers&gt;</code> <br> <code>&lt;fio&gt;Иванов&lt;/fio&gt;</code> <br> <code>&lt;fio&gt;Петров&lt;/fio&gt;</code> <br> <code>&lt;fio&gt;Сидоров&lt;/fio&gt;</code> <br> <code>&lt;/employers&gt;</code> <br> <code>&lt;/dep&gt;</code> <br> <code>&lt;employers&gt;</code> <br><br><em>Если не указывать Explode Fields, то будет сформирован набор данных:</em><br><code>Dep - employers</code><br><code>Бухгалтерия - нечитаемая структура</code><br><br><em>Если настроить Explode Fields:</em><br><strong><em>alias</em></strong> <em>– emloyers;</em><br><strong><em>path</em></strong> <em>– dep.employers, то сформируется набор данных:</em><br><code>Dep - employers.fio</code><br><code>Бухгалтерия - Иванов</code><br><code>Бухгалтерия - Петров</code><br><code>Бухгалтерия - Сидоров</code><br><code>HR - Иванова</code><br><code>HR - Петрова</code><br><code>HR - Сидорова</code></td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlAvroSource'></a></p><p><a id='avro_source'></a> </p><h5><a name='header-n1512' class='md-header-anchor '></a><strong><em>Avro source</em></strong></h5><p>В качестве источника используется файл в формате *.avro.</p><p><strong>Описание атрибутов элемента Avro source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк выводимых в окне просмотра данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>HDFS</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра указывает на то, что файл-источник хранится в файловой системе HDFS, в обратном случае - используется файловая система хоста</td></tr><tr><td>Path</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу-источнику данных</td></tr><tr><td>Schema HDFS</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра указывает на то, что файл схемы Avro хранится в файловой системе HDFS, в обратном случае - используется файловая система хоста</td></tr><tr><td>Schema Path</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к файлу схемы Avro, в котором описан формат сообщения</td></tr><tr><td>Charset</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Кодировка, используемая в файле-источнике</td></tr><tr><td>Explode Fields</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список полей, по которым будут развернуты строки. Список формируется при помощи параметров:<br><strong>alias</strong> - псевдоним поля;<br><strong>fields</strong> - название поля</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlExpressionSource'></a></p><p><a id='expression_source'></a> </p><h5><a name='header-n1571' class='md-header-anchor '></a><strong><em>Expression source</em></strong></h5><p>В качестве источника данных используется массив (Array) элементов типа Map на языке Scala.</p><p><strong>Описание атрибутов элемента Expression source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Expression</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Выражение на языке Scala</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlSQLSource'></a></p><p><a id='sql_source'></a> </p><h5><a name='header-n1606' class='md-header-anchor '></a><strong><em>SQL source</em></strong></h5><p>В качестве источника данных используются результат запроса к реляционной базе данных внешней системы.</p><p><strong>Описание атрибутов элемента SQL source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size (Количество возвращаемых строк)</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк выводимых в окне просмотра данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Context</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, который определяет настройки подключения к базе данных внешней системы</td></tr><tr><td>Sql Options</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' ><a href='%20https://spark.apache.org/docs/latest/sql-programming-guide.html#manually-specifying-options'>Дополнительные параметры SQL</a></td></tr><tr><td>Statement</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Запрос на языке SQL, в результате выполнения которого формируется таблица-источник данных<br><br><em>Пример: select*from system.help</em></td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlHiveSource'></a></p><p><a id='hive_source'></a></p><h5><a name='header-n1653' class='md-header-anchor '></a><strong><em>Hive source</em></strong></h5><p>В качестве источника данных используются результат выполнения запроса на языке SQL.</p><p><strong>Описание атрибутов элемента Hive source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк выводимых в окне просмотра данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Context</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, используемый при считывании данных в режиме &quot;design time&quot;</td></tr><tr><td>Explain</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение функции EXPLAIN (Appache Hive), которая предоставляет данные о выполнении запроса, указанного в поле Statement</td></tr><tr><td>Statement</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Запрос на языке SQL, в результате выполнения которого формируется таблица-источник данных<br><br><em>Пример: select*from system.help</em></td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p><a id='etlHbaseSource'></a></p><h5><a name='header-n1698' class='md-header-anchor '></a><strong><em>HBase source</em></strong></h5><p>В качестве источника данных используется таблица базы данных HBase.</p><p><strong>Описание атрибутов элемента HBase source</strong> </p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Name space</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Имя атрибута space, где располагается таблица</td></tr><tr><td>Table name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название таблицы, используемой в качестве источника данных<br><br><em>Пример: Users_purchase</em></td></tr><tr><td>Row Key</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Значение row key таблицы</td></tr><tr><td>Min stamp</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >&nbsp;</td></tr><tr><td>Max stamp</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >&nbsp;</td></tr><tr><td>Max version</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >&nbsp;</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p><a id='etlTableSource'></a></p><p><a id='table_source'></a> </p><h5><a name='header-n1740' class='md-header-anchor '></a><strong><em>Table source</em></strong></h5><p>В качестве источника данных используется одиночная таблица базы данных внешней системы.</p><p><strong>Описание атрибутов элемента Table source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк выводимых в окне просмотра данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Context</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, который определяет настройки подключения к базе данных внешней системы</td></tr><tr><td>Table name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название таблицы, используемой в качестве источника данных<br><br><em>Пример: Users_purchase</em></td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlKafkaSource'></a></p><p><a id='kafka_source'></a> </p><h5><a name='header-n1783' class='md-header-anchor '></a><strong><em>Kafka source</em></strong></h5><p>В качестве источника данных использует сообщения системы <a href='http://kafka.apache.org'>Apache Kafka</a>, которые поступают по схеме «издатель-подписчик». Элемент Kafka source реализует потоковое чтение данных (read stream).</p><p><strong>Описание атрибутов элемента Kafka source</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Bootstrap servers</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Имена хостов и номера портов bootstrap серверов Kafka<br><br><em>Пример: host1:port1,host2:port2</em></td></tr><tr><td>Kafka consume type</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Способ приема сообщений:<br><strong>ASSIGN</strong> - принимать отдельные партиции;<br><strong>SUBSCRIBE</strong> - подписка;<br><strong>SUBSCRIBE_PATTERN</strong> - шаблон названий топиков</td></tr><tr><td>Consume option value</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >В поле устанавливается значение опции в зависимости от выбранного способа приема сообщений:<br><strong>ASSIGN</strong> - Список принимаемых партиций.<br><em>Пример: json string {&quot;topicA&quot;:[0,1],&quot;topicB&quot;:[2,4]}</em><br><br><strong>SUBSCRIBE</strong> - Через запятую перечисляется список топиков.<br><em>Пример: test или test1, test2</em><br><br><strong>SUBSCRIBE_PATTERN</strong> - Шаблон задается регулярным выражением на языке Java, по которому будет определяться название топика</td></tr><tr><td>Options</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Опции элемента:<br><strong>key</strong> - название опции;<br><strong>value</strong> - значение опции.<br><br>Примеры опций:<br>1. Стартовая точка для запуска запроса.<br>Значение поля key: <strong>startingOffsets;</strong><br>Значение поля value: <strong>earliest</strong>, <strong>latest</strong>, также можно задать начальные партиции каждого топика, например:<br><strong>json string {&quot;topicA&quot;:{&quot;0&quot;:23,&quot;1&quot;:-1},&quot;topicB&quot;:{&quot;0&quot;:-2}}</strong>.<br><br>2. Прерывание выполнения запроса в случае ошибки.<br>Значение поля key: <strong>failOnDataLoss;</strong><br>Значение поля value: <strong>true</strong> или <strong>false.</strong> <br><br>3. Время ожидания выполнения запроса к системе Kafka.<br>Значение поля key: <strong>kafkaConsumer.pollTimeoutMs;</strong><br>В поле value устанавливается количество миллисекунд.<br><br>4.  Количество попыток отправки повторного запроса к системе Kafka.<br>Значение поля key: <strong>fetchOffset.numRetries;</strong><br>В поле value устанавливается количество попыток.<br><br>5.  Время ожидания между повторными отправками запроса к системе Kafka.<br>Значение поля key: <strong>fetchOffset.retryIntervalMs;</strong><br>В поле value устанавливается количество миллисекунд.<br><br>6.  Ограничение количества смещений, обрабатываемых за один запуск. Указанное количество пропорционально распределяется между партициями топиков разного объема.<br>Значение поля key: <strong>maxOffsetsPerTrigger</strong>;<br>В поле value устанавливается максимальное количество смещений</td></tr><tr><td>Value type</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Формат сообщений: AVRO; XML; JSON</td></tr><tr><td>Value Scheme</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект «<a href='#etlSchemeDataset'>Scheme data set</a>», используемый для конвертации данных из сообщений</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»)</td></tr><tr><td>Debug list</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Структура сообщений Apache Kafka</strong></p><figure><table><thead><tr><th>Поле</th><th style='text-align:left;' >Тип данных</th></tr></thead><tbody><tr><td>key</td><td style='text-align:left;' >BINARY</td></tr><tr><td>value</td><td style='text-align:left;' >BINARY</td></tr><tr><td>topic</td><td style='text-align:left;' >STRING</td></tr><tr><td>partition</td><td style='text-align:left;' >INTEGER</td></tr><tr><td>offset</td><td style='text-align:left;' >LONG (разрядности просто integer&#39;а недостаточно)</td></tr><tr><td>timestamp</td><td style='text-align:left;' >Дата-время</td></tr><tr><td>timestampMap</td><td style='text-align:left;' >INTEGER</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='data_transform_elements'></a> </p><h4><a name='header-n1864' class='md-header-anchor '></a>Группа элементов DATA TRANSFORM</h4><p><a id='etlJoin'></a> </p><p><a id='join'></a></p><h5><a name='header-n1867' class='md-header-anchor '></a><strong><em>Join</em></strong></h5><p>Элемент выполняет функции оператора JOIN языка SQL и поддерживает следующие типы объединения таблиц:</p><ul><li>INNER JOIN;</li><li>LEFT JOIN;</li><li>RIGHT JOIN;</li><li>FULL JOIN.</li></ul><p><strong>Описание атрибутов элемента Join</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Join type</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип операции JOIN:<br>INNER;<br>LEFT;<br>RIGHT;<br>FULL</td></tr><tr><td>Key fields</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название поля таблицы, поступающей на вход in элемента трансформации</td></tr><tr><td>Join key field</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название поля таблицы, поступающей на вход join элемента трансформации</td></tr><tr><td>Watermark field</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Названия полей, которые используются при <a href='https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html#handling-late-data-and-watermarking'>потоковой обработке</a></td></tr><tr><td>Watermark threshold</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Пороговое значение</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>Для элемента <strong>Join</strong> доступна функция визуальной настройки правила объединения таблиц.</p><p><strong>Описание полей формы создания правила объединения таблиц</strong></p><figure><table><thead><tr><th>Название поля</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название правила</td></tr><tr><td>Field operation type</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип опрерации:<br><strong>SQL</strong> - позволяет указать произвольное SQL выражение в поле Expression, которое будет применено к полям, указанным в Source fields;<br><strong>TRANSFORM</strong> - к полям, указанным в Source fields будет применяться выражение на языке Scala, которое указывается в поле Expression;<br><strong>ADD</strong> - сохраняет значения полей без применения к ним выражений;<br><strong>PACK</strong> - операция формирует набор переменных различного типа (структуру). Результирующее значение имеет тип STRUCT</td></tr><tr><td>Data type domain</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип данных полей, указанных в Source fields</td></tr><tr><td>Source fields</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список настраиваемых полей</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlAggregation'></a></p><p><a id='aggregation'></a> </p><h5><a name='header-n1946' class='md-header-anchor '></a><strong><em>Aggregation</em></strong></h5><p>Элемент выполняет функции операторов агрегации.</p><p><strong>Описание атрибутов элемента Aggregation</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Group by field name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название поля по которому выполняется группировка</td></tr><tr><td>Aggregation parameters</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Параметры агрегации:<br><strong>result field name</strong> - название результирующего поля;<br><strong>field name</strong> - название поля по которому выполняется агрегация;<br><strong>aggregation function</strong> - тип функции агрегации:<br>1. AVG -возвращает среднее значение столбца таблицы. Результирующее значение имеет тип DECIMAL;<br>2. SUM - возвращает сумму значений столбца таблицы. Результирующее значение имеет тип DECIMAL;<br>3. MIN - возвращает минимальное значение столбца таблицы, в результате тип данных не меняется;<br>4. MAX - возвращает максимальное значение столбца таблицы, в результате тип данных не меняется;<br>5. FIRST - возвращает первое значение столбца таблицы, в результате тип данных не меняется;<br>6. LAST - возвращает последнее значение столбца таблицы, тип данных не меняется;<br>7. COUNT - возвращает количество записей (строк) в таблице. Результирующее значение имеет тип LONG;<br>8. LIST - функция формирует массив данных. Результирующее значение имеет тип ARRAY</td></tr><tr><td>Pivot field</td><td style='text-align:center;' >&nbsp;</td><td style='text-align:left;' >Колонки, добавляемые к результирующему набору данных</td></tr><tr><td>Pivot parameters</td><td style='text-align:center;' >&nbsp;</td><td style='text-align:left;' >Значения, которые будут преобразовываться в колонки (<a href='https://spark.apache.org/docs/2.3.0/api/scala/index.html#org.apache.spark.sql.RelationalGroupedDataset'>подробнее</a>)</td></tr><tr><td>User aggregation</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если флаг выключен, то используются стандартные функции агрегации (из списка Aggregation parameters») и применяются ко всем полям, выбранным в списке Group by field name<br><br><em>Пример: (поле1, поле 2, ...).agg(max(полеN) as resultFieldN, count(полеN+1) as resultFieldN1, ...))</em>.<br>Соответственно, в каждом элементе списка Aggregation parameters следует определить все три поля: result field name, field name, aggregation function.<br><br>Если флаг включен, то агрегация будет определяться пользовательскими выражениями без учета выбранной функции агрегации в поле Aggregation function. Важно учитывать следующее:<br>Модель определяет список полей на выходе по Group by field name и Result field name. Соответственно, при написании выражений необходимо пользоваться набором названий, определенных в списках Group by field name и Result field name.<br><br>Таким образом, если выражение пользовательской агрегации применяется к большому количеству полей, то все они должны быть определены - созданы элементы в Group by field name и Result field name</td></tr><tr><td>Expression</td><td style='text-align:center;' >Да, если включен User aggregation</td><td style='text-align:left;' >Выражение, выполняемое для каждой строки входящих данных внутри группы. Данное выражение действует после выражения Init Expression</td></tr><tr><td>Init Expression</td><td style='text-align:center;' >Да, если включен User aggregation</td><td style='text-align:left;' >Инициализирующее выражение. Выполняется один раз для каждой группы данных</td></tr><tr><td>Final Expression</td><td style='text-align:center;' >Да, если включен User aggregation</td><td style='text-align:left;' >Выражение финализации. Данное выражение выполняется в конце один раз для каждой группы данных для получения результата</td></tr><tr><td>Merge Expression</td><td style='text-align:center;' >Да, если включен User aggregation</td><td style='text-align:left;' >Выражение используется для объединения промежуточных результатов агрегации</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlSelection'></a></p><p><a id='selection'></a> </p><h5><a name='header-n2009' class='md-header-anchor '></a><strong><em>Selection</em></strong></h5><p>Элемент выполняет функцию фильтрации потока данных при помощи выражения на языке SQL:</p><ul><li>если результат применения выражения - true, то данные пропускаются;</li><li>если результат применения выражения - false, то данные отфильтровываются.</li></ul><p><strong>Описание атрибутов элемента Selection</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Expression</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Выражение на языке SQL</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlProjection'></a></p><p><a id='projection'></a> </p><h5><a name='header-n2045' class='md-header-anchor '></a><strong><em>Projection</em></strong></h5><p>Элемент позволяет изменять формат входящего потока данных в соответствии с заданными условиями.</p><p><strong>Описание атрибутов элемента Projection</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Watermark field</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Названия полей, которые используются при <a href='https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html#handling-late-data-and-watermarking'>потоковой обработке</a></td></tr><tr><td>Watermark threshold</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Пороговое значение</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p>Для элемента <strong>Projection</strong> доступна функция настройки преобразования.</p><p><strong>Описание полей формы создания правила преобразования</strong></p><figure><table><thead><tr><th>Название поля</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название правила</td></tr><tr><td>Field operation type</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип опрерации:<br><strong>SQL</strong> - произвольное SQL варажение, которое будет применено для форматирования данных;<br><strong>TRANSFORM</strong> - к полям будет применяться выражение на языке Scala, которое указывается в поле Expression;<br><strong>ADD</strong> - сохраняет значения полей без применения к ним выражений;<br><strong>PACK</strong> - операция формирует набор переменных различного типа (структуру). Результирующее значение имеет тип STRUCT</td></tr><tr><td>Data type domain</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип данных полей (см. приложение <a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>)</td></tr><tr><td>Source fields</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список настраиваемых полей</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlSequence'></a></p><p><a id='sequence'></a></p><h5><a name='header-n2104' class='md-header-anchor '></a><strong><em>Sequence</em></strong></h5><p>Элемент выполняет функции генерации последовательности значений.</p><p><strong>Описание атрибутов элемента Sequence</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Field name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название поля, в котором записывается сгенерированная последовательность значений</td></tr><tr><td>Sequence type</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип последовательности:<br>ORACLE - последовательность формируется при помощи объекта Sequence БД Oracle;<br>LOCAL - формирует последовательность от 1 до ∞</td></tr><tr><td>Context</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, который определяет настройки подключения к базе данных внешней системы</td></tr><tr><td>Sequence name</td><td style='text-align:center;' >Используется при работе с БД Oracle</td><td style='text-align:left;' >Название генератора последовательности значений</td></tr><tr><td>Batch size</td><td style='text-align:center;' >Используется при работе с БД Oracle</td><td style='text-align:left;' >Количество значений в формируемой последовательности</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlSort'></a></p><p><a id='sort'></a> </p><h5><a name='header-n2151' class='md-header-anchor '></a><strong><em>Sort</em></strong></h5><p>Элемент, позволяющий выполнить сортировку входящего потока данных.</p><p><strong>Описание атрибутов элемента Sort</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Sort features</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список полей, по которым выполняется сортировка:<br><strong>Field name</strong> - название поля, для которого выполняется сортировка;<br><strong>Ascending</strong> - при включенном параметре, сортировка записей выполняется по возрастанию</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p><a id='etlGroupwithstate'></a></p><p><a id='groupwithstate'></a> </p><h5><a name='header-n2181' class='md-header-anchor '></a><strong><em>Group with state</em></strong></h5><p>Элемент позволяет обрабатывать входящий поток данных при помощи обработчика, написанного пользователем на языке Scala и/или процессора анализа событий (см. раздел <a href='#evnstreaming'>&quot;Потоковая обработка данных&quot;</a>).</p><p><strong>Описание атрибутов элемента Group with state</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr><tr><td>Input port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание входящего потока данных</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>List of group by key</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список полей, по которым выполняется группировка данных</td></tr><tr><td>Internal state definition</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание внутренней структуры данных, которая используется для обработки группы данных</td></tr><tr><td>Flat map groups with state</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Текст функции обработки данных на языке Scala</td></tr><tr><td>Events processor</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объекта Events processor, используемый для обработки входящего потока данных</td></tr><tr><td>Refresh timeout</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Время ожидания обновления данных в группе. По истечении установленного времени, если данные в группе не изменились, группа будет закрыта</td></tr><tr><td>Sort group by field</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название поля, по которому сортируется входящий поток данных перед началом обработки</td></tr><tr><td>Output mode</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметр записи данных (<a href='http://spark.apache.org/docs/2.2.2/api/java/org/apache/spark/sql/streaming/OutputMode.html'>подробнее</a>)</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlUnion'></a></p><p><a id='union'></a> </p><h5><a name='header-n2240' class='md-header-anchor '></a><strong><em>Union</em></strong></h5><p>Элемент выполняет функции оператора UNION языка SQL.</p><p><strong>Описание атрибутов элемента Union</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>Правила объединения полей создаются в соответствующем окне.</p><p><strong>Описание полей формы создания правила объединения полей</strong></p><figure><table><thead><tr><th>Название поля</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название правила</td></tr><tr><td>Data type domain</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип данных полей (см. приложение <a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>)</td></tr><tr><td>Input port field</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список полей, поступающих на вход &quot;In&quot; элемента Union</td></tr><tr><td>Union port field</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список полей, поступающих на вход &quot;Union&quot; элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlDrools'></a></p><p><a id='drools'></a> </p><h5><a name='header-n2290' class='md-header-anchor '></a><strong><em>Drools</em></strong></h5><p>Элемент позволяет анализировать входящий поток данных средствами <a href='http://www.drools.org'>Drools Expert</a>.</p><p><strong>Описание атрибутов элемента Drools</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Rule Files</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список файлов, описывающих правила обработки входящего потока данных:<br><strong>File url</strong> - Url-адрес файла;<br><strong>File type</strong> - тип файла: CSV, XLS, DRL, PKG, JAR, OTHER - тип файла определяется по расширению;<br><strong>Hdfs</strong> - включение параметра указывает на то, что файл хранится в файловой системе HDFS, в обратном случае - используется файловая система хоста</td></tr><tr><td>Input fact type name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Полное имя типа, передаваемого на вход правила для каждой строки (обычно описывается в файле *.drl)</td></tr><tr><td>Result fact type name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Полное имя типа, передаваемого на выход правила для каждой строки</td></tr><tr><td>Result query name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Имя результирующего запроса</td></tr><tr><td>Result fact object name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Имя объекта, полученного после выполнения запроса Result query name</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlModelBasedAnalysis'></a></p><p><a id='model_based_analysis'></a></p><h5><a name='header-n2337' class='md-header-anchor '></a><strong><em>Model based analysis</em></strong></h5><p>Элемент позволяет выполнять статистический анализ данных, основанный на применении прошедшей обучение модели, при помощи <a href='http://spark.apache.org/mllib'>apache.spark.mllib</a>. В настоящее время поддержана классификация на основе деревьев принятия решений, метода свободных векторов, регрессионного анализа, наивного байесовского классификатора. Полный список методов:</p><ul><li>Decision Tree;</li><li>Gradient Boosted Trees;</li><li>Random Forest Trees;</li><li>SVM;</li><li>Naive Bayes;</li><li>Logistic Regression;</li><li>Linear Regression;</li><li>Isotonic Regression.</li></ul><p>Для настройки элемента Model based analysis необходимо заранее создать модель анализа данных и провести ее обучение. Создание, настройку и обучение модели можно выполнить, например, при помощи инструмента Zeppelin, входящего в поставку Ambari.</p><p><strong>Описание атрибутов элемента Model based analysis</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Model file</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь файлу модели анализа данных</td></tr><tr><td>Label field name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название поля (типа Decimal), в которое будет записан результат анализа входящих данных</td></tr><tr><td>Model features fields</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список полей типа Decimal, на основе которых делается анализ (модель делает предположение и записывает результат в поле, название которого задано в Label field name)</td></tr><tr><td>Method name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Методы анализа данных:<br>DecisionTree;<br>GradientBoostedTrees;<br>RandomForestTrees;<br>SVM;<br>NaiveBayes;<br>LogisticRegression;<br>LinearRegression;<br>IsotonicRegression</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>На выходе элемента будет получен набор данных поданных на вход с добавлением нового поля, название которого задавалось атрибутом «Label field name», куда записано предположение (prediction).</p><p>&nbsp;</p><p><a id='etlSparkSQL'></a></p><p><a id='spark_sql'></a></p><h5><a name='header-n2400' class='md-header-anchor '></a><strong><em>Spark SQL</em></strong></h5><p>Элемент позволяет применять запросы на языке SQL к RDD (<a href='http://spark.apache.org/docs/latest/programming-guide#rdd-persistence'>подробнее</a>).</p><p><strong>Описание атрибутов элемента Spark SQL</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Explain</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение функции EXPLAIN, которая предоставляет данные о выполнении запроса, указанного в поле Statement</td></tr><tr><td>Custom SQL</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Используется для пользовательской кастомизации. Значение выражения не перезаписывается при обновлении версии метаданных</td></tr><tr><td>Количество возвращаемых строк</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество возвращаемых строк</td></tr><tr><td>Statement</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Запрос на языке SQL, который будет применяться к RDD</td></tr><tr><td>Sql ports</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Названия принимающих портов и их псевдонимы. Псевдонимы портов используются при написании запросов.<br><br><em>Примечание.</em><br><em>Элемент может не иметь входящих портов вообще, тогда он будет выступать, как источник данных</em></td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента<br><br><em>Внимание!</em><br><em>Созданное автоматически описание формата исходящего потока данных требует проверки и, возможно, корректировки, т.к. в случаях, когда на принимающие порты элемента поступают данные от нескольких элементов, и эти данные имеют одинаковые названия полей, то в Output port программа создаст только одно поле с таким названием. Также необходимо вручную задавать новые поля, если таковые создаются в результате запроса (например: SELECT MAX(id) AS max_id)</em></td></tr></tbody></table></figure><blockquote><p><em>Примечание.</em></p><p><em>Для элемента <strong>Spark SQL</strong> доступна функция редактирования запроса. Особенностью элемента является то, что данные могут быть обработаны только в режиме «run time».</em></p></blockquote><p>&nbsp;</p><p><a id='etlExplodeField'></a></p><p><a id='explode'></a></p><h5><a name='header-n2451' class='md-header-anchor '></a><strong><em>Explode fields</em></strong></h5><p>Элемент предоставляет доступ к данным из массива данных. Элемент разворачивает массив и делает из одной записи столько строк, сколько элементов в массиве.</p><p><strong>Описание атрибутов элемента Explode fields</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Checkpoint</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включает/выключает функцию сохранения результата, полученного при выполнении данного элемента диаграммы трансформации (см. описание атрибута <strong>persistOnDisk</strong> объектов <a href='#transformationdeployment_objects'>&quot;Transformation Deployment&quot;</a>)</td></tr><tr><td>Explode Fields</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Alias - псевдоним поля;<br>Field - cписок полей, по которым будут развернуты строки, т.е. для каждого элемента внутри указанного массива будет создана строка во всем наборе данных;<br>Data type domain - тип данных</td></tr><tr><td>Output port</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание формата исходящего потока данных, полученных в результате выполнения данного элемента диаграммы трансформации и передаваемых следующему элементу (см. приложение «<a href='#appendix1'>Соответствие типов полей в дизайнере трансформаций классам языка Scala</a>»).<br><strong>Debug list</strong> Список отладочных файлов, в которых содержится промежуточный результат выполнения элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='target_elements'></a></p><h4><a name='header-n2481' class='md-header-anchor '></a>Группа элементов TARGETS</h4><p><a id='etlLocalTarget'></a></p><p><a id='local_target'></a> </p><h5><a name='header-n2484' class='md-header-anchor '></a><strong><em>Local target</em></strong></h5><p>В качестве приемника данных используется файл, хранимый в файловой системе HDFS сервера Oozie.</p><p><strong>Описание атрибутов элемента Local target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Local file format</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Формат файла, в котором сохраняются данные:<br>JSON;<br>PARQUET;<br>ORC;<br>JDBC;<br>CSV</td></tr><tr><td>Save mode</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Режим операции записи результатов выполнения элемента:<br><strong>APPEND</strong> - добавляет только новые данные;<br><strong>OVERWRITE</strong> - перезаписывает все данные;<br><strong>DISCARD</strong> - удаляет партиции, указанные в подменю PARTITIONS</td></tr><tr><td>Local file name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Указывается путь и название файла, который будет создан в результате выполнения трансформации</td></tr><tr><td>Delete before save</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если включено, то выполняется удаление данных, сформированных в результате предыдущего выполнения данного элемента</td></tr><tr><td>Register table</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то результат будет регистрироваться в Hive meta store</td></tr><tr><td>Hive table name</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Имя таблицы в Hive metastote</td></tr><tr><td>Options</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >key - название опции;<br>value - значение опции</td></tr><tr><td>Partitions</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список партиций (каталогов).<br>При разбиении на партиции, данные сортируются по каталогам. Количество партиций должно быть меньше, чем количество атрибутов. Например, таблицу со столбцами ID и NAME можно разбить по какому-нибудь одному атрибуту: либо ID, либо NAME</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlTableTarget'></a></p><p><a id='table_target'></a> </p><h5><a name='header-n2535' class='md-header-anchor '></a><strong><em>Table target</em></strong></h5><p>В качестве приемника данных используется одиночная таблица базы данных внешней системы.</p><p><strong>Описание атрибутов элемента Table target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Context</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, который определяет настройки подключения к базе данных внешней системы</td></tr><tr><td>Table name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название таблицы, используемой в качестве приемника данных</td></tr><tr><td>Target type</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип операции записи результатов выполнения элемента:<br><strong>INSERT</strong> - добавляет новые данные в таблицу;<br><strong>UPDATE</strong> - обновляет данные в таблице;<br><strong>DELETE</strong> - удаляет записи по ключу;<br><strong>MERGE</strong> - работает только для БД Oracle. Если в момент записи данных в таблицу в ней присутствуют старые записи, то выполнится операция Update. Если данные отсутствуют, то выполнится операция Insert</td></tr><tr><td>Clear</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >При включенном параметре выполняется очистка значений в таблице, сформированной в результате предыдущего выполнения данного элемента</td></tr><tr><td>Check If Exists</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при отсутствии какого-либо поля в таблице процесс будет завершаться ошибкой (будет выполняться reject вместо генерации записей)</td></tr><tr><td>Input fields mapping</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Маппинг входных и выходных данных</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlProcedureTarget'></a></p><p><a id='procedure_target'></a> </p><h5><a name='header-n2578' class='md-header-anchor '></a><strong><em>Procedure target</em></strong></h5><p>В качестве приемника данных используется вызов хранимой процедуры.</p><p><strong>Описание атрибутов элемента Procedure target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Context</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, который определяет настройки подключения к базе данных внешней системы</td></tr><tr><td>Catalog name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Catalog name в терминах Jdbc</td></tr><tr><td>Stored procedure</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Procedure name в терминах Jdbc</td></tr><tr><td>Pre SQL statement</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >SQL запрос, выполняемый на входе данного элемента диаграммы трансформации</td></tr><tr><td>Post SQL statement</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >SQL запрос, выполняемый на выходе данного элемента диаграммы трансформации</td></tr><tr><td>Input fields mapping</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Маппинг входных и выходных данных</td></tr></tbody></table></figure><p>Для элемента <strong>Procedure target</strong> доступна функция загрузки процедуры, используемой в качестве приемника данных. Функция запускается двойным кликом по пиктограмме элемента, находящейся в рабочей области. Обновление/загрузка списка процедур может занимать продолжительное время.</p><p>&nbsp;</p><p><a id='etlCSVTarget'></a></p><p><a id='csv_target'></a> </p><h5><a name='header-n2622' class='md-header-anchor '></a><strong><em>CSV target</em></strong></h5><p>В качестве приемника данных используется текстовый файл, в который записывается результат трансформаций в формате CSV.</p><p><strong>Описание атрибутов элемента CSV target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sample Size</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Ограничение количества строк в окне просмотра массива данных, поступающих на вход элемента</td></tr><tr><td>HDFS</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра указывает на то, что файл-приемник хранится в файловой системе HDFS, в обратном случае - используется файловая система хоста</td></tr><tr><td>Path</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу-приемнику данных</td></tr><tr><td>Charset</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Кодировка, используемая в файле</td></tr><tr><td>Header</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то при записи данных в файл будет пропускаться первая строка</td></tr><tr><td>Delimiter</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Символ, используемый в качестве разделителя между значениями в CSV</td></tr><tr><td>Quote</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Символ, предназначенный для выделения значения, содержащего символы Delimiter</td></tr><tr><td>Escape</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Символ, предназначенный для выделения значения, содержащего символы Quote</td></tr><tr><td>Comment</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Символы, предназначенные для обозначения комментария</td></tr><tr><td>Date format</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Формат даты, используемый в файле</td></tr><tr><td>Null value</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Текстовое значение, которое интерпретируется как Null</td></tr><tr><td>Codec</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название кодека, используемого для сжатия данных. Если значение не указано, то сжатие данных не используется</td></tr><tr><td>Quote mode</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Режим обособления значений символом Quote:<br><strong>ALL</strong> - обособляются все значения;<br><strong>MINIMAL</strong> - обособляются только те значения, которые содержат символ Delimiter;<br><strong>NON_NUMERIC</strong> - обособляются только текстовые данные;<br><strong>NONE</strong> - не обособляются</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlXMLTarget'></a></p><p><a id='xml_target'></a> </p><h5><a name='header-n2693' class='md-header-anchor '></a><strong><em>XML target</em></strong></h5><p>В качестве приемника данных используется XML-файл (<a href='https://github.com/databricks/spark-xml'>более подробное описание</a>). Работа элемента поддержана в версии Spark 2.Х и выше.</p><p><strong>Описание атрибутов элемента XML target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>HDFS</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра указывает на то, что файл-приемник хранится в файловой системе HDFS, в обратном случае - используется файловая система хоста</td></tr><tr><td>Path</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу-приемнику данных</td></tr><tr><td>Charset</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Кодировка, используемая в файле</td></tr><tr><td>Row Tag</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Тег XML-файла, который будет определен, как строка</td></tr><tr><td>Root Tag</td><td style='text-align:center;' >&nbsp;</td><td style='text-align:left;' >Корневой тег XML-файла</td></tr><tr><td>Null Value</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Значение, которое интерпретируется как Null</td></tr><tr><td>Attribute Prefix</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Символ, используемый для обособления атрибутов</td></tr><tr><td>Value Tag</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тег, используемый в качестве метки для значения атрибута элемента, не имеющего наследников</td></tr><tr><td>Compression</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название кодека, используемого для сжатия файла при сохранении</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlStreamTarget'></a></p><p><a id='spark_stream_target'></a></p><h5><a name='header-n2748' class='md-header-anchor '></a><strong><em>Streaming</em></strong></h5><p>Приемник данных, при помощи которого можно организовать потоковую обработку данных. В зависимости от настроек элемент может записывать результат трансформации в файл, хранимый в файловой системе HDFS или в таблице базы данных внешней системы.</p><p><strong>Описание атрибутов элемента Stream target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Context</td><td style='text-align:center;' >LДа</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, который определяет настройки подключения к базе данных внешней системы</td></tr><tr><td>Output mode</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Режим записи результатов выполнения элемента:<br><strong>APPEND</strong> – (используется по умолчанию) добавляет только новые данные в таблицу результатов;<br><strong>COMPLETE</strong> – перезаписывает все данные в таблице результатов. Данный режим используется только для трансформаций с аггрегациями</td></tr><tr><td>Checkpoint Location</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу в который записывается результат, полученный при выполнении данного элемента диаграммы</td></tr><tr><td>Local File Format</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Формат файла-приемника данных.<br><br><em>При выборе формата HBASE, в настройках добавятся дополнительные поля, необходимые для сохранения данных в таблице HBASE. Данные поля описаны в элементе трансформации <a href='#etlHbaseTarget'>Hbase target</a></em></td></tr><tr><td>Local File Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название файла-приемника данных</td></tr><tr><td>Trigger</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Интервал времени между запусками проверки наличия необработанных данных в источнике. Если значение не задано, то проверка будет выполняться постоянно</td></tr><tr><td>Trigger units</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Единица измерения заданного значения атрибута Trigger</td></tr><tr><td>Timeout</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Время работы элемента Stream target</td></tr><tr><td>Refresh timeout </td><td style='text-align:center;' >нет</td><td style='text-align:left;' >&nbsp;</td></tr><tr><td>Options</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Опции элемента: <br><strong>key</strong> – название опции;<br><strong>value</strong> – значение опции</td></tr><tr><td>Partitions</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список партиций (каталогов).<br>При разбиении на партиции, данные сортируются по каталогам. Количество партиций должно быть меньше, чем количество атрибутов. Например, таблицу со столбцами ID и NAME можно разбить по какому-нибудь одному атрибуту, либо ID, либо NAME</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlHiveTarget'></a></p><p><a id='hive_target'></a></p><h5><a name='header-n2803' class='md-header-anchor '></a><strong><em>Hive target</em></strong></h5><p>Элемент <strong>Hive target</strong>, как и <strong>Table target</strong>, записывает данные в таблицы баз данных. Отличительной особенностью элемента <strong>Hive target</strong> является то, что при работе использует Hive (систему управления базами данных на основе Hadoop).</p><blockquote><p><em>Примечание.</em></p><p><em>Для использования элемента <strong>Hive target</strong> в схеме трансформации необходимо загрузить метаданные таблицы, которая будет являться приемником данных.</em></p></blockquote><p>&nbsp;</p><p><strong>Описание атрибутов элемента Hive target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Context</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Объект &quot;Jdbc Context&quot;, который определяет настройки подключения к базе данных внешней системы</td></tr><tr><td>Table name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название таблицы, используемой в качестве приемника данных</td></tr><tr><td>Hive Target Type</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Тип операции записи результатов выполнения элемента:<br><strong>APPEND</strong> – добавляет данные в таблицу;<br><strong>OVERWRITE</strong> – перезаписывает данные в таблице;<br><strong>IGNORE</strong> – если точно такие же записи уже существуют, они не будут перезаписаны (проигнорированы);<br><strong>ERROR</strong> – выдает ошибку, если точно такие же записи уже существуют</td></tr><tr><td>Pre SQL statement</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >SQL запрос, выполняемый на входе данного элемента диаграммы трансформации</td></tr><tr><td>Post SQL statement</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >SQL запрос, выполняемый на выходе данного элемента</td></tr><tr><td>Partitions</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список партиций (каталогов).<br> При разбиении на партиции, данные сортируются по каталогам. Количество партиций должно быть меньше, чем количество атрибутов. Например, таблицу со столбцами ID и NAME можно разбить по какому-нибудь одному атрибуту, либо ID, либо NAME</td></tr><tr><td>Input fields mapping</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Маппинг входных и выходных данных</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlHbaseTarget'></a></p><h5><a name='header-n2853' class='md-header-anchor '></a><strong><em>HBase target</em></strong></h5><p>В качестве приемника данных используется таблица базы данных HBase.</p><p><strong>Описание атрибутов элемента HBase target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Name space</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Имя атрибута space, где располагается таблица</td></tr><tr><td>Table name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название таблицы, используемой в качестве источника данных<br><br><em>Пример: Users_purchase</em></td></tr><tr><td>Row Key</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Значение row key таблицы</td></tr><tr><td>Regions for new table</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Значение атрибута Region для создаваемой таблицы в приемнике данных. Region должен быть ≥ 5</td></tr><tr><td>Version column</td><td style='text-align:center;' >&nbsp;</td><td style='text-align:left;' >&nbsp;</td></tr><tr><td>Input fields mapping</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Маппинг входных и выходных данных</td></tr></tbody></table></figure><p><a id='etlKafkaTarget'></a></p><p><a id='kafka_target'></a></p><h5><a name='header-n2891' class='md-header-anchor '></a><strong><em>Kafka target</em></strong></h5><p>Элемент из поступающих на вход данных формирует сообщения и отправляет их в систему <a href='http://kafka.apache.org'>Apache Kafka</a>. Данный элемент не является стриминговым.</p><p><strong>Описание атрибутов элемента Kafka target</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br>Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Bootstrap servers</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Имя хоста и номер порта bootstrap сервера Kafka</td></tr><tr><td>Topic</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название топика</td></tr><tr><td>Message key</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название поля, которое будет служить ключом сообщения</td></tr><tr><td>Message value</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название поля, которое будет служить значением сообщения</td></tr><tr><td>Properties</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Дополнительные свойства отправки сообщений:<br><strong>key</strong> – название свойства;<br><strong>value</strong> – значение свойства. Для ознакомления с полным списком свойств перейдите в раздел Configuration settings на <a href='https://www.tutorialspoint.com/apache_kafka/apache_kafka_simple_producer_example.htm#Configuration%20Settings'>странице</a></td></tr><tr><td>Value type</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Формат сообщений: AVRO; XML; JSON</td></tr><tr><td>Value Scheme</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект «<a href='#etlSchemeDataset'>Scheme data set</a>», используемый для конвертации данных, отправляемых в Kafka</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlUserDefinedFunction'></a></p><h3><a name='header-n2937' class='md-header-anchor '></a>Агрегатные пользовательские функции</h3><p>Впрограмме реализована возможность применения агрегатных пользовательских функций (<a href='https://blog.cloudera.com/blog/2017/02/working-with-udfs-in-apache-spark/'>UDAF</a>) в SQL и Spark SQL запросах при настройке элементов трансформаций, потоков работ и т.д. </p><p>Создание и настройка агрегатных пользовательских функций выполняется в разделе интерфейса <strong>&quot;ETL/User defined function&quot;</strong>.</p><p><strong>Атрибуты User defined function</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>UDF name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта User defined function.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Code</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Выражение (поддерживаются языки: Scala, Java)</td></tr><tr><td>UDF class name</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Имя класса UDF</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Project&quot;, к которому привязан объект &quot;User defined function&quot;</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlSchemeDataset'></a></p><h3><a name='header-n2964' class='md-header-anchor '></a>Объекты &quot;Scheme data set&quot;</h3><p>Объекты <strong>&quot;Scheme data set&quot;</strong> хранят настройки для сериализации/десириализации данных при работе с бинарными сообщениями системы <a href='http://kafka.apache.org'>Apache Kafka</a>. Данные объекты используются в работе элементов схем трансформации <a href='#etlKafkaSource'>Kafka source</a> и <a href='#etlKafkaTarget'>Kafka target</a>.</p><p>Работа с объектами &quot;Scheme data set&quot; выполняется в разделе: <strong>&quot;ETL/Scheme data set&quot;</strong>.</p><p><strong>Атрибуты Scheme data set</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта Scheme data set.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Scheme</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание схемы сообщений, получаемых из <a href='http://kafka.apache.org'>Apache Kafka</a></td></tr><tr><td>Scheme type</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Формат схемы сообщений: AVRO; XML; JSON</td></tr><tr><td>Dataset</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание структуры в которую конвертируются данные из сообщений</td></tr></tbody></table></figure><p><a id='workflow_managment'></a></p><h2><a name='header-n2990' class='md-header-anchor '></a>Поток работ</h2><p><a id='etlWorkflow'></a></p><p><a id='workflow_objects'></a> </p><h3><a name='header-n2993' class='md-header-anchor '></a>Объекты &quot;Workflow&quot;</h3><p>Объекты <strong>&quot;Workflow&quot;</strong> - это объекты, описывающие алгоритм управления потоком работ по преобразованию исходных данных.</p><p>Действия с объектами <strong>&quot;Workflow&quot;</strong> выполняются в разделе интерфейса «ETL/Поток обработки».</p><p><strong>Описание атрибутов объектов &quot;Workflow&quot;</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта &quot;Workflow&quot;.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java<br><br><em>Пример: DemoTransformationDeployment</em></td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Примечание или короткий комментарий.<br>Допускается использовать кириллицу</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект &quot;Project&quot;, к которому привязан объект &quot;Workflow&quot;</td></tr><tr><td>Nodes</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание элементов схемы управления</td></tr><tr><td>Json View</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Представление объекта в формате json</td></tr></tbody></table></figure><p><a id='tab_sla_minitoring'></a> </p><p><strong>Атрибуты вложенного объекта SLA (см. раздел «<a href='#sla_monitoring_oozie_tasks'>SLA мониторинг задач Oozie</a>»)</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Nominal Time</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Точка отсчета для SLA.<br>Переменная nominal_time создается автоматически при запуске задачи из Datagram. В нее записывается текущее время</td></tr><tr><td>Should Start</td><td style='text-align:center;' >В зависимости от отслеживаемых событий</td><td style='text-align:left;' >Количество времени, относительно Nominal Time, в течение которого должна запуститься задача. Может быть задана в:<br>Минутах - MINUTES;<br>Часах - HOURS;<br>Днях - DAYS<br><br><em>Пример: 10</em><em>*MINUTES</em></td></tr><tr><td>Should End</td><td style='text-align:center;' >В зависимости от отслеживаемых событий</td><td style='text-align:left;' >Количество времени, в течение которого должно быть закончено исполнение задачи относительно Nominal Time. Может быть задана в:<br>Минутах - MINUTES;<br>Часах - HOURS;<br>Днях - DAYS<br><br><em>Пример: 2</em><em>*HOURS</em></td></tr><tr><td>Max Duration</td><td style='text-align:center;' >В зависимости от отслеживаемых событий</td><td style='text-align:left;' >Максимальная продолжительность исполнения задачи относительно Nominal Time. Может быть задана в:<br>Минутах - MINUTES;<br>Часах - HOURS;<br>Днях - DAYS<br><br><em>Пример: 3</em><em>*HOURS</em></td></tr><tr><td>Alert Events</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список отслеживаемых событий, для которых необходимо отправлять отчет по электронной почте:<br>start_miss;<br>end_miss;<br>duration_miss.<br><br>В качестве разделителя используется запятая<br><br><em>Пример: start_miss, end_miss, duration_miss</em></td></tr><tr><td>Alert Contact</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Список адресов электронной почты, на которые будут отправляться оповещения. В качестве разделителя используется запятая<br><br><em>Пример: <a href='mailto:example@box.com' target='_blank' class='url'>example@box.com</a></em></td></tr></tbody></table></figure><p><strong>Операции, доступные для объектов &quot;Workflow&quot;</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Проверить</td><td style='text-align:left;' >Операция выполняет проверку корректности настроек объекта и логики его работы</td></tr><tr><td>Создать представление</td><td style='text-align:left;' >Операция создает представление объекта в формате json</td></tr><tr><td>Сгенерировать и скопировать</td><td style='text-align:left;' >При выполнении операции генерируются файлы JAR и XML, описывающие объект, и копируются с сервера Neoflex Datagram в файловую систему HDFS</td></tr><tr><td>Импорт</td><td style='text-align:left;' >Из каталога проекта, имя которого совпадает с именем объекта Project, к которому привязан выбранный объект Workflow, импортируются данные объекта Workflow</td></tr><tr><td>Экспорт</td><td style='text-align:left;' >В каталог проекта, имя которого совпадает с именем объекта Project, к которому привязан выбранный объект Workflow, экспортируются данные объекта Workflow</td></tr><tr><td>Запустить</td><td style='text-align:left;' >Операция запускает исполнение объекта</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='elements_of_workflow_diagrams'></a> </p><h3><a name='header-n3078' class='md-header-anchor '></a>Элементы диаграмм объектов Workflow</h3><p>Дизайнер диаграмм объектов <strong>Workflow</strong> предназначен для построения диаграмм, описывающих поток работ и обеспечивающих запуск, управление и контроль над выполнением преобразований исходных данных в исполняющей среде Oozie. <a href='https://oozie.apache.org/docs/4.2.0/WorkflowFunctionalSpec.html#a3.1.1_Start_Control_Node'>Описание исполняющей среды Oozie</a></p><p><a id='elements_of_point_group'></a> </p><h4><a name='header-n3081' class='md-header-anchor '></a>Группа элементов POINT</h4><p>В группе собраны элементы, обеспечивающие запуск, завершение исполнения потока работ и прерывание исполнения в случае ошибки.</p><p>&nbsp;</p><p><a id='etlWFStart'></a></p><p><a id='start_element'></a></p><h5><a name='header-n3086' class='md-header-anchor '></a><strong><em>Start</em></strong></h5><p>Элемент обозначает начало диаграммы потока работ.</p><blockquote><p><em>На заметку.</em></p><p><em>Диаграмма, описывающая поток работ, может содержать только один элемент <strong>start</strong>.</em></p></blockquote><p><strong>Атрибуты элемента Start</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlWFEnd'></a></p><p><a id='end_element'></a> </p><h5><a name='header-n3108' class='md-header-anchor '></a><strong><em>End</em></strong></h5><p>Элемент используется для обозначения успешного окончания диаграммы потока работ.</p><blockquote><p><em>На заметку.</em></p><p><em>Диаграмма, описывающая поток работ, может содержать только один элемент <strong>end</strong>. Если в момент достижения элемента <strong>end</strong> один или несколько элементов диаграммы еще выполнялись, то выполнение элементов будет принудительно остановлено, и это не будет считаться ошибкой.</em></p></blockquote><p><strong>Атрибуты элемента End</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlWFKill'></a></p><p><a id='kill_element'></a> </p><h5><a name='header-n3130' class='md-header-anchor '></a><strong><em>Kill</em></strong></h5><p>Элемент используется для контроля исполнения отдельных элементов или части диаграммы потока работ. В случае обнаружения ошибки, элемент принудительно останавливает исполнение диаграммы, при этом может выполняться запись заданного текста сообщения об ошибке в лог Oozie.</p><p><strong>Описание атрибутов элемента kill</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Properties Message</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Текст сообщения, которое записывается в лог Oozie в случае выполнения данного элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='elements_of_rule_group'></a>                                        </p><h4><a name='header-n3152' class='md-header-anchor '></a>Группа элементов RULE</h4><p>Элементы данной группы используются для определения последовательности выполнения заданий:</p><ul><li>параллельность или последовательность выполнения заданий определяется элементами ветвления (fork) и соединения (join);</li><li>последовательность выполнения заданий в зависимости от доступности определенных данных или завершения каких-либо других событий определяется элементами принятия решений (decision).</li></ul><p>&nbsp;</p><p><a id='etlWFFork'></a></p><p><a id='fork_element'></a></p><h5><a name='header-n3162' class='md-header-anchor '></a><strong><em>Fork</em></strong></h5><p>Элементы <strong>fork</strong> позволяют настроить параллельное выполнение неограниченного количества заданий.</p><p><strong>Описание атрибутов элемента Fork</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Paths</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Количество и названия передающих портов элемента</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlWFJoin'></a></p><p><a id='join_element'></a> </p><h5><a name='header-n3186' class='md-header-anchor '></a><strong><em>Join</em></strong></h5><p>Элементы <strong>Join</strong> позволяют объединять неограниченное количество параллельных заданий.</p><p><strong>Описание атрибутов элемента Join</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>To</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Элемент схемы к которому подключен порт Out элемента Join</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlWFDecision'></a></p><p><a id='decision_element'></a> </p><h5><a name='header-n3209' class='md-header-anchor '></a><strong><em>Decision</em></strong></h5><p>Элементы <strong>Decision</strong> управляют запуском выполнения заданий в зависимости от условий, описываемых в виде предикатов.</p><p><strong>Описание атрибутов элемента Decision</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Cases</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Описание исходящих портов:<br><strong>Label</strong> - название порта;<br><strong>Predicate</strong> - предикат времени или событий, записанный на языке <a href='https://jcp.org/en/jsr/detail?id=152'>Expression Language</a>, результат вычисления которого может иметь одно из значений: true или false</td></tr><tr><td>Default</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Переход по умолчанию</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='elements_of_action_group'></a></p><h4><a name='header-n3235' class='md-header-anchor '></a>Группа элементов ACTION</h4><p>Элементы данной группы определяют задания по преобразованию исходных данных в диаграммах потока работ.</p><p><a id='etlWFTransformation'></a></p><p><a id='transformation_element'></a></p><h5><a name='header-n3239' class='md-header-anchor '></a><strong><em>Transformation</em></strong></h5><p>Элементы <strong>Transformation</strong> предназначены для включения в диаграмму потока работ объектов <strong>Transformation</strong>.</p><p><strong>Атрибуты элемента Transformation</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Transformation</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Из списка выбирается объект &quot;Transformation&quot;, который должен использоваться в схеме</td></tr><tr><td>Jvm opts</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Опции Java Virtual Machine</td></tr><tr><td>Prepare</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Действия, выполняемые перед началом работы элемента:<br><strong>Delete dir</strong> - список каталогов, удаляемых при запуске элемента;<br><strong>Mk dir</strong> - список каталогов, которые будут создаваться при запуске элемента</td></tr><tr><td>Sla</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки SLA мониторинга (см. таблицу <a href='#tab_sla_minitoring'>&quot;Атрибуты вложенного объекта SLA&quot;</a>)</td></tr><tr><td>Ok</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Ok</td></tr><tr><td>Error</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Error</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlWFSubWorkflow'></a></p><p><a id='subworkflow_element'></a></p><h5><a name='header-n3282' class='md-header-anchor '></a><strong><em>Workflow</em></strong></h5><p>Элементы <strong>Workflow</strong> предназначены для включения в диаграмму потока работ вложенных объектов <strong>Workflow</strong>.</p><p><strong>Атрибуты элемента Workflow</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Sub Workflow</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта &quot;Workflow&quot;, привязанного к данному элементу</td></tr><tr><td>Propagate Configuration</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то конфигурация основного Workflow применяется к вложенным Sub Workflow</td></tr><tr><td>Properties</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список свойств конфигурации окружения (hadoop config), которые требуется переопределить:<br>Name - название свойства;<br>value - новое значение</td></tr><tr><td>Sla</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки SLA мониторинга (см. таблицу <a href='#tab_sla_minitoring'>&quot;Атрибуты вложенного объекта SLA&quot;</a>)</td></tr><tr><td>Ok</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Ok</td></tr><tr><td>Error</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Error</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlWFShell'></a></p><p><a id='shell_element'></a> </p><h5><a name='header-n3325' class='md-header-anchor '></a><strong><em>Execute shell</em></strong></h5><p>Элемент <strong>Execute shell</strong> позволяет выполнять в диаграмме потока работ shell скрипты.</p><p><strong>Атрибуты элемента Execute shell</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Exec</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Имя файла, содержащего shell скрипт.<br><br><em>Пример: script.sh</em></td></tr><tr><td>Args</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Аргументы shell скрипта</td></tr><tr><td>File</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к файлу, содержащему shell скрипт.<br><br><em>Пример: /home/hdfs/data/script.sh</em></td></tr><tr><td>Capture Output</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра позволяет сохранять данные, полученные в результате выполнения данного элемента, для использования в диаграмме в дальнейшем.<br>Данные должны соответствовать требованиям:<br>1. Формат результата должен соответствовать формату файла свойств Java;<br>2. Размер результирующего файла не должен превышать 2 kB</td></tr><tr><td>Sla</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки SLA мониторинга (см. таблицу <a href='#tab_sla_minitoring'>&quot;Атрибуты вложенного объекта SLA&quot;</a>)</td></tr><tr><td>Ok</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Ok</td></tr><tr><td>Error</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Error</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='etlWFJava'></a></p><p><a id='java_element'></a> </p><h5><a name='header-n3372' class='md-header-anchor '></a><strong><em>Execute Java</em></strong></h5><p>Элемент <strong>Execute Java</strong> позволяет выполнять в диаграмме потока работ java скрипты.</p><p><strong>Атрибуты элемента Execute Java</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента.<br> Название должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Label</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Краткое описание элемента</td></tr><tr><td>Jar files</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к файлам, к которым Spark должен предоставить доступ во время работы элемента Execute java</td></tr><tr><td>Prepare</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Действия, выполняемые перед началом работы элемента:<br><strong>Delete dir</strong> - список каталогов, удаляемых при запуске элемента;<br><strong>Mk dir</strong> - список каталогов, которые будут создаваться при запуске элемента</td></tr><tr><td>Main class</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Полное имя класса, содержащего метод public static void main(args), который будет выполнен</td></tr><tr><td>Args</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список аргументов, передаваемых в функцию main</td></tr><tr><td>Javaopts</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметры Java Virtual Machine</td></tr><tr><td>Capture Output</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра позволяет сохранять данные, полученные в результате выполнения данного элемента, для использования в диаграмме в дальнейшем.<br>Данные должны соответствовать требованиям:<br>1. Формат результата должен соответствовать формату файла свойств Java;<br>2. Размер результирующего файла не должен превышать 2 kB</td></tr><tr><td>File</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к файлу, к которому Spark должен предоставить доступ во время работы элемента Execute java</td></tr><tr><td>Archive</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к архиву, к которому Spark должен предоставить доступ во время работы элемента Execute java</td></tr><tr><td>Properties</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список свойств конфигурации окружения (hadoop config), которые требуется переопределить:<br>Name - название свойства;<br>Value - новое значение</td></tr><tr><td>Sla</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки SLA мониторинга (см. таблицу <a href='#tab_sla_minitoring'>&quot;Атрибуты вложенного объекта SLA&quot;</a>)</td></tr><tr><td>Ok</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Ok</td></tr><tr><td>Error</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название элемента подключенного к порту Error</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='execution_of_the_created_transformation_and_workflow_objects'></a> </p><h2><a name='header-n3438' class='md-header-anchor '></a>Запуск на исполнение настроенных объектов Transformation и Workflow</h2><p>В разделе <a href='#quick_start'>&quot;Quick start&quot;</a> был рассмотрен вариант запуска на исполнение объектов <strong>Transformation</strong> и <strong>Workflow</strong> из интерфейса дизайнера диаграмм. Данный способ удобен при создании либо редактировании диаграмм объектов. В случаях, когда необходимо периодически выполнять запуск уже настроенных объектов, удобнее это делать из формы просмотра объектов <strong><a href='#transformationdeployment_objects'>Transformation Deployment</a></strong> (запускает объекты Transformation) или <strong><a href='#workflowdeployment_objects'>Workflow Deployment</a></strong> (запускает объекты Workflow).</p><p><a id='execution_of_the_created_transformation_objects'></a> </p><h3><a name='header-n3441' class='md-header-anchor '></a>Запуск исполнения настроенного объекта Transformation</h3><p>Для запуска перейдите в раздел «<strong>Развертывание/Transformation Deployment</strong>». Найдите в списке или создайте новый объект <strong>Transformation Deployment</strong> (см. раздел «<a href='#transformationdeployment_objects'>Объекты Transformation Deployment</a>»), при помощи которого будет запущен объект <strong>Transformation</strong>.</p><blockquote><p><em>На заметку.</em></p><p><em>Объект <strong>Transformation Deployment</strong> будет запускать объект <strong>Transformation</strong>, который привязан к нему. Таким образом, в списке необходимо выбрать объект <strong>TransformationDeployment</strong>, у которого в столбце <strong>«Transformation»</strong> указано название объекта <strong>Transformation</strong>, запуск которого нужно выполнить.</em></p></blockquote><p>Откройте форму просмотра выбранного объекта <strong>Transformation Deployment</strong>. В форме просмотра в списке <strong>«Выполнить операцию»</strong> выберите пункт <strong>«Запустить»</strong> (см. раздел &quot;<a href='#transformationdeployment_objects'>Объекты Transformation Deployment</a>&quot;).</p><p><a id='execution_of_the_created_workflow_objects'></a> </p><h3><a name='header-n3448' class='md-header-anchor '></a>Запуск исполнения настроенного объекта Workflow</h3><p>Процедура запуска объектов <strong>Workflow</strong> схожа с процедурой запуска объектов <strong>Transformation</strong>, описанной в предыдущем разделе. Разница заключается в том, что запуск объектов <strong>Workflow</strong> выполняется из формы просмотра объекта <strong>Workflow Deployment</strong> (см. раздел «<a href='#workflowdeployment_objects'>Объекты WorkflowDeployment</a>»). Список объектов <strong>WorkflowDeployment</strong> доступен в разделе интерфейса «<strong>Развертывание/Workflow Deployment</strong>».</p><blockquote><p><em>На заметку.</em></p><p><em>Объект <strong>WorkflowDeployment</strong> запускает объект <strong>Workflow</strong>, который привязан к нему. Привязка объекта может быть определена в форме редактирования объекта <strong>WorkflowDeployment</strong> в поле <strong>«Workflows»</strong>.</em></p></blockquote><p><a id='scheduled_execution_of_the_created_workflow_objects'></a> </p><h3><a name='header-n3454' class='md-header-anchor '></a>Запуск исполнения настроенного объекта Workflow по расписанию</h3><p>В программе поддерживается работа с модулем <a href='https://oozie.apache.org/docs/4.2.0/CoordinatorFunctionalSpec.html'>Oozie Coordinator</a>, что позволяет выполнять запуск исполнения объектов <strong>Workflow</strong> по расписанию.</p><p>Для запуска исполнения объектов Workflow по расписанию в программе должны быть созданы и настроены объекты:</p><ul><li><p><a href='#oozie_objects'><strong>Oozie</strong></a>, описывающий параметры подключения к серверу Oozie и управления исполняющей средой;</p></li><li><p><a href='#coordinatordeployment_objects'><strong>Coordinator Deployments</strong></a>, отвечающий за создание комплекта файлов, описывающих объект <strong>CoJob</strong> и связанный с ним <strong>Workflow</strong>, передачу файлов на сервер Oozie и запуск исполнения;</p></li><li><p><strong>CoJob</strong>, описывающий параметры работы Oozie Coordinator.</p><p><a id='etlCoJob'></a></p><p><a id='cojob_objects'></a></p></li></ul><h3><a name='header-n3466' class='md-header-anchor '></a>Объекты CoJob</h3><p>Объекты <strong>CoJob</strong> ,а также вложенные объекты, хранят настройки работы модуля Oozie Coordinator.</p><p>Действия с объектами <strong>CoJob</strong> выполняются в разделе интерфейса <strong>«ETL/CoJob»</strong>.</p><p><strong>Атрибуты объекта CoJob</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта. <br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java<br><br><em>Пример: DemoOozie</em></td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан объект<br><br><em>Пример: DemoProject</em></td></tr><tr><td>Frequency</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Периодичность запусков исполнения объекта Workflow в заданном интервале времени.<br>Может быть задана в минутах, или выражением на языке <a href='https://oozie.apache.org/docs/4.2.0/CoordinatorFunctionalSpec.html#a3._Expression_Language_for_Parameterization'>Expression Language</a>.<br><br><em>Пример в минутах: 10;</em><br><em>Пример выражения:${coord:days(1)}</em></td></tr><tr><td>Start</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Начало временного интервала, в течение которого происходят запуски исполнения объекта Workflow.<br><br>Пример:2016-09-02T08:05Z</td></tr><tr><td>End</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Конец временного интервала, в течение которого происходят запуски исполнения объекта Workflow.<br><br><em>Пример:2016-09-03T10:25Z</em></td></tr><tr><td>Timezone</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Часовой пояс (стандарт UTC или GMT).<br><br><em>Пример:Etc/GMT-4</em></td></tr></tbody></table></figure><p><strong>Атрибуты вложенного объекта Controls (описывает параметры управления исполнением экземпляров объекта Workflow)</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Timeout</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Время ожидания возникновения дополнительных условий для запуска очередного экземпляра объекта Workflow (задается в минутах).<br><strong>Значение «</strong>0<strong>»</strong> - означает, что во время исполнения объекта должны сохраняться дополнительные условия запуска. Если по каким-либо причинам дополнительные условия запуска прекратят существовать, то исполнение объекта будет отложено;<br><strong>Значение «</strong>-1<strong>»</strong> - означает, что запуск исполнения объекта Workflow будет выполняться без учета дополнительных условий.<br><em>Если поле не заполнено, то передается значение «-1»</em></td></tr><tr><td>Concurrency</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество параллельно исполняемых экземпляров объекта Workflow, относящихся к одному CoJob<br><br><em>Пример: 3</em></td></tr><tr><td>Execution</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Порядок исполнения нескольких экземпляров объекта Workflow, относящихся к одному CoJob:<br>FIFO;<br>LIFO;<br>LAST_ONLY;<br>NONE<br>Варианты описаны в документации <a href='https://oozie.apache.org/docs/4.2.0/CoordinatorFunctionalSpec.html#a6.3._Synchronous_Coordinator_Application_Definition'>Oozie Coordinator</a></td></tr><tr><td>Throttle</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Количество экземпляров объекта Workflow, находящихся в состоянии ожидания (по умолчанию: 12)</td></tr></tbody></table></figure><p><strong>Атрибуты вложенного объекта Datasets</strong> (описывает набор данных, который может быть использован как входное или выходное событие (<a href='https://oozie.apache.org/docs/4.2.0/CoordinatorFunctionalSpec.html#a5.1._Synchronous_Datasets'>подробнее</a>).</p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название набора данных.<br><br><em>Пример: DemoDataset</em></td></tr><tr><td>Frequency</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Периодичность проверок наличия набора данных.<br>Может быть задана в минутах, или выражением на языке <a href='https://oozie.apache.org/docs/4.2.0/CoordinatorFunctionalSpec.hml#a3._Expression_Language_for_Parameterization'>Expression Language</a><br><br><em>Пример в минутах: 10;</em><br>*Пример выражения: ${coord:hours(1)}</td></tr><tr><td>Initial instance</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Дата и время (в формате UTC) возникновения первого экземпляра набора данных.<br><br><em>Пример: 2001-01-01T00:01Z</em></td></tr><tr><td>Timezone</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Часовой пояс (стандарт UTC или GMT).<br><br><em>Пример:Etc/GMT-4</em></td></tr><tr><td>Uri Template</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Шаблон Uri для идентификации набора данных. Может быть задан константой или переменным значением.<br><br><em>Пример константы: <code>hdfs://cloud:5531/data/${YEAR}/${MONTH};</code></em><br><em>Пример переменной: <code>hdfs://cloud:5531/place/${market}/${language}</code></em></td></tr><tr><td>Done Flag</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Флаг, обозначающий завершение формирования набора данных</td></tr></tbody></table></figure><p><strong>Атрибуты вложенного объекта Input Events</strong> (входные события)</p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название входного события.<br><br><em>Пример: DemoInputEvent</em></td></tr><tr><td>Dataset</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название объекта dataset, который описывает набор данных, используемый в качестве входного события.<br><br><em>Пример: DemoDataset</em></td></tr><tr><td>Instance</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Начальная точка для определения Start Instance и End Instance.<br><br><em>Пример: ${coord:current(0)}</em></td></tr><tr><td>Start Instance</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Время создания первого контролируемого набора данных.<br><br><em>Пример: ${coord:current(-23)}</em></td></tr><tr><td>End Instance</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Время создания последнего контролируемого набора данных.<br><br><em>Пример: ${coord:current(0)}</em></td></tr></tbody></table></figure><p><strong>Атрибуты вложенного объекта Output Events</strong> (выходные события)</p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название входного события.<br><br><em>Пример: DemoOutputEvent</em></td></tr><tr><td>Dataset</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название объекта dataset, который описывает набор данных, используемый в качестве выходного события.<br><br><em>Пример: DemoDataset</em></td></tr><tr><td>Instance</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Начальная точка для определения Start Instance и End Instance.<br><br><em>Пример: ${coord:current(0)}</em></td></tr><tr><td>Start Instance</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Время создания первого контролируемого набора данных.<br><br><em>Пример: ${coord:current(-23)}</em></td></tr><tr><td>End Instance</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Время создания последнего контролируемого набора данных.<br><br><em>Пример: ${coord:current(0)}</em></td></tr></tbody></table></figure><p><strong>Атрибуты вложенного объекта Action</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта Action.<br><br><em>Пример: DemoAction</em></td></tr><tr><td>Workflow</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Привязанный объект Workflow.<br><br><em>Пример: DemoWorkflow</em></td></tr><tr><td>SLA</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки SLA мониторинга (см. <a href='#tab_sla_minitoring'>&quot;Атрибуты вложенного объекта SLA&quot;</a>)</td></tr><tr><td>Configuration</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметры объекта, передаваемые на исполнительную среду:<br>Name - название параметра;<br>Expression - включение параметра означает, что значение является выражением языка Scala. В обратном случае – текстовое значение;<br>Description - описание параметра</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='metadata_migration_subsystem'></a></p><h2><a name='header-n3627' class='md-header-anchor '></a>Подсистема переноса метаданных</h2><p>Подсистема переноса метаданных решает задачи экспорта/импорта объектов программы между программными средами. Подсистема переноса может выполнять экспорт/импорт, как всех объектов программы, так и групп объектов.</p><p>При работе в режиме экспорта, подсистема переноса метаданных создает комплект файлов, описывающих экспортируемые объекты и внешние связи между ними. </p><p>Для контроля версий файлов рекомендуется использовать программу <a href='https://tortoisesvn.net'>TortoiseSVN</a>, параметры подключения к которойзадаются в настройках объектов <a href='#tab_project_param'><strong>Project</strong></a>.</p><p><a id='grouping_program_objects'></a></p><h3><a name='header-n3632' class='md-header-anchor '></a>Группировка объектов программы</h3><p>Группировка объектов программы для экспорта/импорта метаданных выполняется посредством их привязки к одному объекту <strong>Project</strong>. Другими словами, чтобы сгруппировать объекты для переноса, достаточно в форме настройки каждого из объектов в поле <strong>Project</strong> из списка выбрать один и тот же объект <strong>Project.</strong></p><blockquote><p><em>На заметку.</em></p><p><em>При использовании функции группировки объектов для переноса метаданных необходимо учитывать, что программа, помимо объектов, привязанных к одному объекту <strong>Project</strong>, автоматически добавит связанные с ними объекты. Например, если в группу для переноса входит объект <strong>Workflow</strong>, диаграмма которого управляет исполнением нескольких объектов <strong>Transformation</strong>, то данные объекты <strong>Transformation</strong> также попадут в группу независимо от их привязки к объектам <strong>Project</strong>.</em></p></blockquote><p>Работа с объектами <strong>Project</strong> выполняются в разделе интерфейса <strong>«ETL/Project»</strong>.</p><p><a id='etlProject'></a></p><p><a id='tab_project_param'></a></p><p><strong>Описание атрибутов объектов Project</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта Project.<br>Необходимо учитывать, что название должно удовлетворять правилам формирования идентификаторов Java</td></tr><tr><td>Parent Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Родительский проект</td></tr><tr><td>Svn Enabled</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра означает, что для учета версий файлов, описывающих экспортируемые объекты и внешние связи между ними, используется программа TortoiseSVN</td></tr><tr><td>Svn URL</td><td style='text-align:center;' >Обязательно при включении Svn Enabled</td><td style='text-align:left;' >Url-адрес TortoiseSVN</td></tr><tr><td>Svn User Name</td><td style='text-align:center;' >Обязательно при включении Svn Enabled</td><td style='text-align:left;' >Имя пользователя, используемое для входа в TortoiseSVN</td></tr><tr><td>Svn Password</td><td style='text-align:center;' >Обязательно при включении Svn Enabled</td><td style='text-align:left;' >Пароль пользователя для входа в TortoiseSVN.<br><em>Рекомендуется использовать скрытый способ хранения паролей (см. раздел «<a href='#storing_and_encrypting_passwords'>Хранение паролей в системе</a>»)</em></td></tr><tr><td>Svn Commit Message</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Текст сообщения, которое будет записываться при выполнении операции SVN Commit</td></tr></tbody></table></figure><p><a id='metadata_export_import_operations'></a> </p><h3><a name='header-n3675' class='md-header-anchor '></a>Операции экспорта/импорта метаданных</h3><p>Операции экспорта/импорта метаданных объектов доступны из форм просмотра и редактирования объектов Project по кнопке «<strong>Выполнить операцию</strong>».</p><p><strong>Операции, доступные для объектов Project</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Загрузить проект</td><td style='text-align:left;' >Импортирует объекты, привязанные к объекту Project, из формы просмотра/редактирования которого запущена операция.<br><br><em>Объект не будет загружен, если тип и название импортируемого объекта совпадает с типом и названием имеющегося объекта в программной среде</em></td></tr><tr><td>Выгрузить проект</td><td style='text-align:left;' >Подсистема переноса метаданных создает комплект файлов, описывающих экспортируемые объекты, привязанные к объекту Project, из формы просмотра/редактирования которого запущена операция. Данные файлы сохраняются в каталоге:<br><code>${deploy.dir}/deployments/${cust.code}/cim/MetaServer/data/projects/${project.name}</code><br>и могут быть использованы для импорта в другую программную среду</td></tr><tr><td>Загрузить репозиторий</td><td style='text-align:left;' >Импортирует все объекты, созданные в программе.<br><br><em>Объект не будет загружен, если тип и название импортируемого объекта совпадает с типом и названием имеющегося объекта в программной среде</em></td></tr><tr><td>Выгрузить репозиторий</td><td style='text-align:left;' >Подсистема переноса метаданных создает комплект файлов, описывающих все объекты программы, независимо от привязки к объекту Project, из формы просмотра/редактирования которого запущена операция. Данные файлы сохраняются в каталоге:<br><code>${deploy.dir}/deployments/${cust.code}/cim/MetaServer/data/all</code><br>и могут быть использованы для импорта в другую программную среду</td></tr><tr><td>Очистить проект</td><td style='text-align:left;' >Операция удаляет объекты программы, типы и имена которых совпадают с загружаемыми.<br><br><em>Если в программе существуют объекты, которые привязаны к нескольким проектам, то такие объекты не будут удалены</em></td></tr><tr><td>Создать представление</td><td style='text-align:left;' >Для всех объектов Transformation и Workflow создается представление в формате json</td></tr><tr><td>Восстановить ссылки</td><td style='text-align:left;' >Операция восстанавливает внешние связи между объектами программы</td></tr><tr><td>Удалить потерянные объекты</td><td style='text-align:left;' >Системная функция</td></tr><tr><td>SVN Checkout</td><td style='text-align:left;' >Операция выполняется после создания нового объекта Project для синхронизации репозитория SVN и локального каталога для хранения проектов</td></tr><tr><td>SVN Update</td><td style='text-align:left;' >Операция обновляет копии рабочих файлов пользователя до актуальной версии</td></tr><tr><td>SVN Checkout or Update</td><td style='text-align:left;' >Выполняет операцию Checkout или Update в зависимости от наличия файлов</td></tr><tr><td>SVN Commit</td><td style='text-align:left;' >Операция фиксирует внесенные изменения с созданием новой ревизии</td></tr><tr><td>SVN Cleanup</td><td style='text-align:left;' >Очистка lock-файлов</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Пример работы с подсистемой переноса метаданных:</strong></p><p>В главе <a href='#quick_start'>&quot;Quick start&quot;</a> в описании процесса создания объектов <a href='#transformation_creating'><strong>Transformation</strong></a> и <a href='#workflow_creating'><strong>Workflow</strong></a> указывалось, что в форме создания каждого из объектов в поле <strong>Project</strong> необходимо выбрать объект <strong>&quot;DemoProject&quot;</strong>. Таким образом была выполнена привязка объектов <strong>Transformation</strong> и <strong>Workflow</strong> к объекту <strong>&quot;DemoProject&quot;</strong> и формирование группы объектов для переноса.</p><p>Чтобы создать комплект файлов экспорта объектов программы в другую программную среду, перейдите в форму просмотра объекта <strong>&quot;DemoProject&quot;</strong> и нажмите кнопку «<strong>Выполнить операцию</strong>», в появившемся списке кликните по операции «<strong>Выгрузить проект</strong>».</p><p>После завершения операции будет сформирован комплект файлов, описывающих объекты программы и связи между ними, в каталоге:</p><p><em><code>${deploy.dir}/deployments/${cust.code}/cim/MetaServer/data/projects/${project.name}</code></em></p><p>Для того чтобы импортировать объекты, скопируйте каталог <strong>${project.name}</strong>, полученный в результате выполнения операции «<strong>Выгрузить проект</strong>», в каталог:</p><p> <em><code>${deploy.dir}/deployments/${cust.code}/cim/MetaServer/data/projects</code></em>,</p><p>находящийся на другом сервере, где установлена программа.</p><p>В интерфейсе программной среды, в которую импортируются объекты создайте объект <strong>Project</strong> с названием, соответствующим названию каталога <strong>${project.name}</strong>, и выполните операцию «<strong>Загрузить проект</strong>».</p><p><a id='adapting_metaserver_to_work_with_the_deployed_repository'></a> </p><h2><a name='header-n3732' class='md-header-anchor '></a>Адаптация подсистемы Meta Server для работы с разворачиваемым репозиторием</h2><p>Иногда для разворачивания репозитория может потребоваться адаптация подсистемы <strong>Meta Server</strong>. Адаптация выполняется при помощи настройки объектов <strong>Environment</strong> и вложенных объектов <strong>Environment Parameter</strong>.</p><p><a id='rtEnvironment'></a></p><p><a id='environment_objects'></a> </p><h3><a name='header-n3736' class='md-header-anchor '></a>Объекты Environment</h3><p>Данные объекты содержат список параметров среды, которые необходимо изменить для корректной работы подсистемы <strong>Meta Server</strong> с разворачиваемым репозиторием.</p><p>Действия с объектами <strong>Environment</strong> выполняются в разделе интерфейса <strong>«Развертывание/Environment»</strong>.</p><p><strong>Атрибуты объектов Environment</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java.<br><br><strong><em>Внимание!</em></strong><br><em>Название объекта Environment должно совпадать со значением параметра запуска customer_code, указанном в файле Install_env</em></td></tr><tr><td>Description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание объекта Environment</td></tr></tbody></table></figure><p>Список параметров, которые необходимо отредактировать формируется при помощи вложенных объектов <strong>Environment Parameter</strong>.</p><p><strong>Атрибуты вложенных объектов Parameter</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание объекта Parameter</td></tr><tr><td>Object class</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Класс объекта.<br><br><em>Пример: rt.Oozie</em></td></tr><tr><td>Object name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта.<br><br><em>Пример: ambarioozie</em></td></tr><tr><td>Attribute path</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Путь к атрибуту, параметр которого необходимо изменить. Задается на языке <a href='https://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html'>Expression Language</a>.<br><br><em>Пример: nameNode</em></td></tr><tr><td>Parameter value</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Новое значение параметра.<br>Строковые значения должны выделяться одинарными кавычками. Любой другой тип значений не выделяется символами.<br><br><em>Пример: &#39;hdfs://cloud3.neo.ru:8020&#39;</em></td></tr></tbody></table></figure><p>Для завершения адаптации подсистемы Meta Server необходимо выполнить одну из операций, доступных для объекта <strong>Environment</strong>.</p><p><strong>Операции, доступные для объектов Environment</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Перезаписать параметры</td><td style='text-align:left;' >Операция устанавливает перезаписываемые параметры, указанные в выбранном объекте Environment</td></tr><tr><td>Перезаписать параметры текущей среды</td><td style='text-align:left;' >Операция устанавливает перезаписываемые параметры из объекта Environment, название которого соответствует текущему значению параметра запуска customer_code</td></tr><tr><td>Зашифровать строку</td><td style='text-align:left;' >При помощи данной операции можно зашифровать любой текст, например, чтобы не указывать пароль в явном виде</td></tr><tr><td>Расшифровать строку</td><td style='text-align:left;' >Операция расшифровывает текстовое значение, зашифрованное при помощи операции &quot;Зашифровать строку&quot;</td></tr></tbody></table></figure><p><a id='sseSandbox'></a></p><h2><a name='header-n3803' class='md-header-anchor '></a>Sandbox. Инструмент анализа данных</h2><p>Sandbox предназначен, в первую очередь, для аналитиков, работающих с разнородными данными в том числе и в области BigData. Инструмент позволяет упростить процессы анализа, инжиниринга данных и бизнес-аналитики при помощи визуализации данных, полученных из источников:</p><ul><li><strong>JDBC</strong> - ссылка на таблицу или результат выполнения SQL запроса (View);</li><li><strong>Hive</strong> - ссылка на Hive таблицу или ссылка на данные, хранимые в HDFS, для которых предоставляется доступ через Hive;</li><li><strong>Результат пользовательского запроса</strong> к данным из workspace.</li></ul><p>Основная сущность, с которой работает пользователь в Sandbox - это датасеты (Dataset), которые создаются в рамках рабочей области (workspace), при этом:</p><ul><li>для базы данных каждая таблица, или результат выполнения запроса, представляется в виде отдельного датасета;</li><li>если в качестве источника данных используются файлы из HDFS, то содержимое каждого файла представляется в виде отдельного датасета.</li></ul><p>Для работы с <strong>Sandbox</strong> необходимо настроить объекты:</p><ul><li><strong>Cluster</strong>;</li><li><strong>Workspace</strong>.</li></ul><p><a id='sseCluster'></a></p><h3><a name='header-n3825' class='md-header-anchor '></a>Создание объекта Cluster</h3><p>Объекты <strong>Cluster</strong> хранят параметры подключений к серверу Livy, Hive Metastore, источникам данных и используется при создании Workspaces.</p><p>Действия с объектами <strong>Cluster</strong> выполняются в разделе интерфейса <strong>«Sandbox/Cluster»</strong>.</p><p><strong>Атрибуты объектов Cluster</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Code</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код объекта</td></tr><tr><td>Cluster description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание кластера Hadoop</td></tr><tr><td>Livy server</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается сервер Livy</td></tr><tr><td>Connection to Hive Thrift Server</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Строка для jdbc подключения к Hive Thrift Server<br><br><em>Пример:  jdbc:hive2://nchd-rep69-h.moex.com:2181,nchd-rep68-h.moex.com:2181,nchd-rep67-h.moex.com:2181/;serviceDiscoveryMode=zooKeeper;zoo<br>KeeperNamespace=hiveserver2</em></td></tr><tr><td>Hive Metastore URI</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >URI Hive Metastore<br><br><em>Пример:  thrift://nchd-rep69-h.moex.com:9083</em></td></tr><tr><td>References Connection</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Jdbc соединение для БД, в которой будут храниться cправочники, структура и наполнение которых определяются пользователями. Так как справочники могут модифицироваться и дополняться позаписно, хранить их в HDFS невозможно</td></tr></tbody></table></figure><p><a id='sseWorkspace'></a></p><h3><a name='header-n3863' class='md-header-anchor '></a>Создание Workspace</h3><p>Workspace - это основной интерфейс системы Sandbox в котором отображается структура данных, содержимое сформированных датасетов и хранятся инструменты для анализа и инжиниринга данных. </p><p>В системе существуют два типа Workspace:</p><ul><li><strong>Analytic workspace</strong> - рабочая область, предназначенная для персонала, который занимается бизнес-анализом данных и в силу правил безопасности не должен иметь доступа к определенным датасетам;</li><li><strong>Jdbc workspace</strong> - позволяет разработчикам загрузить данные из источника и ограничить права доступа к отдельным датасетам.</li></ul><p>Действия с объектами <strong>Workspace</strong> выполняются в разделе интерфейса <strong>«Sandbox/Workspace»</strong>.</p><p><a name='tab_sseAnalyticWorkspace'></a></p><p><strong>Атрибуты Analytic workspace</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название рабочей области</td></tr><tr><td>Code</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код рабочей области</td></tr><tr><td>Workspace description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание рабочей области</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего рабочую область</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочей области, которая является родительской по отношению к редактируемой</td></tr><tr><td>Cluster</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается объект cluster</td></tr><tr><td>Parameters</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметры workspace.<br><strong>Name</strong> - Название параметра объекта;<br><strong>Expression</strong> - Включение параметра означает, что значение является выражением языка Scala. В обратном случае - текстовое значение;<br><strong>Description</strong> - Описание параметра</td></tr></tbody></table></figure><p><a name='tab_sseJdbcWorkspace'></a></p><p><strong>Атрибуты Jdbc workspace</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название рабочей области</td></tr><tr><td>Code</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код рабочей области</td></tr><tr><td>Workspace description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание рабочей области</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего рабочую область</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочей области, которая является родительской по отношению к редактируемой</td></tr><tr><td>Cluster</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается объект cluster</td></tr><tr><td>Parameters</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметры workspace.<br><strong>Name</strong> - Название параметра объекта;<br><strong>Expression</strong> - Включение параметра означает, что значение является выражением языка Scala. В обратном случае - текстовое значение;<br><strong>Description</strong> - Описание параметра</td></tr><tr><td>Jdbc connection</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается объект Jdbc connection, который необходимо использовать для подключения к базе данных</td></tr><tr><td>Default schema to work</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается объект Scheme, описывающий базу данных</td></tr></tbody></table></figure><p>&nbsp;</p><h3><a name='header-n3959' class='md-header-anchor '></a>Наполнение Workspace</h3><p>После создания workspace (analytic или Jdbc), ее необходимо наполнить данными, другими словами создать датасеты и, если это необходимо, создать дочерние workspace.  </p><h5><a name='header-n3961' class='md-header-anchor '></a><em>Импорт схемы в Jdbc workspace</em></h5><p>В <strong>Jdbc workspace</strong> существует возможнось автоматически создать датасеты для всей базы данных по кнопке <img src='Pic\OperationsButton.png' alt='' referrerPolicy='no-referrer' />(Import schema). При этом, в настройках Jdbc workspace обязательно должны быть указаны атрибуты <strong>Jdbc connection</strong> и <strong>Default schema to work</strong>. После загрузки базы данных, на экране будут показаны датасеты в виде блоков, а в левой части экрана представлена структура Workspace. </p><p><img src='Pic\Full_workspace.png' alt='' referrerPolicy='no-referrer' /></p><h5><a name='header-n3964' class='md-header-anchor '></a><em>Импорт датасетов</em></h5><p>В analytic workspace и Jdbc workspace можно импортировать уже созданные датасеты из других workspace. Для этого кликните по кнопке <img src='Pic\ImportDatasets.png' alt='' referrerPolicy='no-referrer' />(Import datasets), на экране появится окно выбора датасетов для импорта.<br></p><p><img src='Pic\ImportDatasetsForm.png' alt='' referrerPolicy='no-referrer' /></p><p>В окне выберите workspace, в которой находятся нужные датасеты, а затем отметьте датасеты, которые необходимо импортировать. Для завершения импорта нажмите кнопку &quot;Import&quot;.</p><h5><a name='header-n3968' class='md-header-anchor '></a><em>Создание датасетов и child workspaces</em> </h5><p>Создание датасетов и child workspace доступно как в analytic workspace, так и в Jdbc workspace. Чтобы создать датасет и/или child workspace, нажмите кнопку <img src='Pic\SelectTransformationDeploymentButton.png' alt='' referrerPolicy='no-referrer' />, расположенную рядом с соответствующим пунктом на панели со структурой workspace.<br></p><p><a id='sseChildWorkspaces'></a></p><h4><a name='header-n3971' class='md-header-anchor '></a>Child workspaces</h4><p><strong>Child workspaces</strong> - дочерние рабочие среды, данные из которых будут доступны в рабочей workspace. Независимо от типа родительской workspace, Child workspaces могут быть как analytic, так и Jdbc. </p><p><a id='sseDatasetTypes'></a></p><h4><a name='header-n3974' class='md-header-anchor '></a>Типы датасетов</h4><p><strong>Датасеты</strong> - это основная единица работы с данными в рамках приложения, соединяет в себе непосредственно набор данных, способ их получения, и структуру с бизнес-описанием атрибутов. </p><p><a id='sseDataset'></a></p><h5><a name='header-n3977' class='md-header-anchor '></a><em>Dataset</em></h5><p>Данный тип на основании различных источников данных, описывает логику трансформации данных и получившуюся структуру.</p><p><strong>Атрибуты Dataset</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя датасета</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код датасета</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание датасета</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего датасет</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан датасет</td></tr><tr><td>Used datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к датасету</td></tr><tr><td>Dataset columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Array<br>Scalar<br>Struct</td></tr><tr><td>Partition columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список колонок, по которым будут партицироваться данные</td></tr><tr><td>Used Interpreter</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Интерпретатор выражения:<br>Spark;<br>Python;<br>R;<br>SQL</td></tr><tr><td>Expression</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Выражение, для формирования датасета</td></tr></tbody></table></figure><p>На рисунке ниже представлен пример настройки датасета.   </p><p><img src='Pic\Konstructor dataset.png' alt='' referrerPolicy='no-referrer' /></p><p>Для формирования данных в датасете, используйте одну из команд:</p><p><img src='Pic\PlayButton.png' alt='' referrerPolicy='no-referrer' /> (Run) - запускает выполнение запроса и отображает результат в пространстве интерфейса под запросом (см. рисунок выше). Используется для отладки;<br><img src='Pic\BuildButton.png' alt='' referrerPolicy='no-referrer' />  (Build) - запускает выполнение запроса и сохраняет результат в HDFS;<br><img src='Pic\FullRebuldButton.png' alt='' referrerPolicy='no-referrer' /> (Full rebuild) - пересчитывает все датасеты - источники данных, выполняет запрос настраиваемого датасета и сохраняет результат в HDFS;<br><img src='Pic\OperationsButton.png' alt='' referrerPolicy='no-referrer' />(Schedule full rebuild) - запускает операцию &quot;Full rebuild&quot; и создает объект &quot;<a href='#rtScheduledTask'>ScheduledTask</a>&quot; для последующего запуска операции по расписанию.<br><br>По кнопке <img src='Pic\PlusButton.png' alt='PlusButton' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Конструктор - форма создания/изменения свойств датасета (показана на рисунке выше);</li><li>Dataset метаданные - форма просмотра метаданных;</li><li>Dataset обзор - форма для визуализации данных;</li><li>Редактор свойств - расширенная форма, котороя позволяет отредактировать свойства датасета, задать/отредактировать настройки доступа к датасету, просмотреть историю изменений.</li></ul><p><a id='sseHiveDataset'></a></p><h5><a name='header-n4051' class='md-header-anchor '></a><em>Hive dataset</em></h5><p>Hive dataset – описывает существующую таблицу в Hive Metastore, ее структуру, и предоставляет доступ к данным через Hive Thrift Server.</p><p><strong>Атрибуты Hive dataset</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя датасета</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код датасета</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание датасета</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего датасет</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан датасет</td></tr><tr><td>Datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к датасету</td></tr><tr><td>Dataset columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Array<br>Scalar<br>Struct</td></tr><tr><td>Partition columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список колонок, по которым будут партицироваться данные</td></tr><tr><td>Hive Database</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название базы данных</td></tr><tr><td>Hive Table Name</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название таблицы</td></tr></tbody></table></figure><p>По кнопке <img src='Pic/PlusButton.png' alt='PlusButton' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Метаданные - форма просмотра метаданных;</li><li>Обзор - форма для визуализации данных;</li><li>Редактор свойств.</li></ul><p><strong>Операции Hive dataset</strong></p><ul><li>Import metadata - данная операция импортирует метаданные из источника данных. Операция доступна по кнопке <img src='Pic\OperationsButton.png' alt='' referrerPolicy='no-referrer' />.<br></li></ul><p><a id='sseHiveExternalDataset'></a></p><h5><a name='header-n4124' class='md-header-anchor '></a><em>Hive external dataset</em></h5><p>Hive external dataset – описывает набор данных, расположенных в файлах на HDFS (в настоящий момент поддерживаются форматы parquet, orc, json, xml, csv). Предоставляет доступ к данным, как к external таблице Hive через Hive Thrift Server.</p><p><strong>Атрибуты Hive external dataset</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя датасета</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код датасета</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание датасета</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего датасет</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан датасет</td></tr><tr><td>Datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к датасету</td></tr><tr><td>Dataset columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Array<br>Scalar<br>Struct</td></tr><tr><td>Partition columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список колонок, по которым будут партицироваться данные</td></tr><tr><td>Hive Database</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название базы данных</td></tr><tr><td>Hive Table Name</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название таблицы</td></tr><tr><td>HDFS Dataset Location</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к файлу-источнику данных в HDFS</td></tr><tr><td>File type</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается формат файла-источника данных</td></tr></tbody></table></figure><p>По кнопке <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Метаданные - форма просмотра метаданных;</li><li>Обзор - форма для визуализации данных;</li><li>Редактор свойств.</li></ul><p><strong>Операции Hive external dataset</strong></p><p>Операции доступны по кнопке <img src='Pic\OperationsButton.png' alt='' referrerPolicy='no-referrer' />.<br></p><ul><li>Import metadata - данная операция импортирует метаданные из источника данных. </li><li>Build hive table - создает external table в Hive. </li></ul><p><a id='sseJdbcDataset'></a></p><h5><a name='header-n4208' class='md-header-anchor '></a><em>Jdbc dataset</em></h5><p>Jdbc dataset – аналог view над реляционными данными из jdbc совместимого источника.</p><p><strong>Атрибуты Jdbc dataset</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя датасета</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код датасета</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание датасета</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего датасет</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан датасет</td></tr><tr><td>Datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к датасету</td></tr><tr><td>Dataset columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Array<br>Scalar<br>Struct</td></tr><tr><td>Partition columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список колонок, по которым будут партицироваться данные</td></tr><tr><td>Dataset read connection</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название объекта Jdbc Connection, используемого для подключения к базе данных</td></tr><tr><td>Dataset read query</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >SQL запрос, для формирования датасета</td></tr></tbody></table></figure><p>В текстовом поле записывается выражение, которое сформирует датасет.</p><p>Для запуска выполнения запроса нажмите кнопку &quot;Run&quot;. </p><p>По кнопке <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Конструктор - форма быстрого создания/изменения свойств датасета;</li><li>Метаданные - форма просмотра метаданных;</li><li>Обзор - форма для визуализации данных;</li><li>Редактор свойств - расширенная форма, котороя позволяет отредактировать свойства датасета, задать/отредактировать настройки доступа к датасету, просмотреть историю изменений.</li></ul><p><a id='sseJdbcTableDataset'></a></p><h5><a name='header-n4281' class='md-header-anchor '></a><em>Jdbc table dataset</em></h5><p>Jdbc table dataset – описывает существующую таблицу в jdbc источнике данных.</p><p><strong>Атрибуты Jdbc table dataset</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя датасета</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код датасета</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание датасета</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего датасет</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан датасет</td></tr><tr><td>Datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к датасету</td></tr><tr><td>Dataset columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Array<br>Scalar<br>Struct</td></tr><tr><td>Partition columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список колонок, по которым будут партицироваться данные</td></tr><tr><td>Dataset read connection</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается объект Jdbc Connection</td></tr><tr><td>Database schema</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Из списка выбирается объект Scheme</td></tr><tr><td>Database table</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название таблицы - источника данных</td></tr></tbody></table></figure><p>По кнопке <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Метаданные - форма просмотра метаданных;</li><li>Обзор - форма для визуализации данных;</li><li>Редактор свойств.</li></ul><p><strong>Операции Jdbc table dataset</strong></p><ul><li>Import metadata - данная операция импортирует метаданные из источника данных. Операция доступна по кнопке <img src='C:/D/SVN/DOC/MD%20manual/UserManualRU/Pic/OperationsButton.png' alt='' referrerPolicy='no-referrer' />.<br></li></ul><p><a id='sseLincedDataset'></a></p><h5><a name='header-n4358' class='md-header-anchor '></a><em>Linked dataset</em></h5><p>Linked dataset – вспомогательная сущность. Позволяет ссылаться на датасеты, которые подготовили и опубликовали другие аналитики или разработчики.</p><p><strong>Атрибуты Linked dataset</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя датасета</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код датасета</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание датасета</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего датасет</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан датасет</td></tr><tr><td>Datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к датасету</td></tr><tr><td>Dataset columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Array<br>Scalar<br>Struct</td></tr><tr><td>Partition columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список колонок, по которым будут партицироваться данные</td></tr><tr><td>Linked dataset</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название датасетв из которого берутся данные</td></tr></tbody></table></figure><p>По кнопке <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Метаданные - форма просмотра метаданных;</li><li>Обзор - форма для визуализации данных;</li><li>Редактор свойств.</li></ul><p><strong>Операции Linked dataset</strong></p><ul><li>Import metadata - данная операция импортирует метаданные из источника данных. Операция доступна по кнопке <img src='C:/D/SVN/DOC/MD%20manual/UserManualRU/Pic/OperationsButton.png' alt='' referrerPolicy='no-referrer' />.<br></li></ul><p><a id='sseNotebook'></a></p><h5><a name='header-n4427' class='md-header-anchor '></a><em>Notebook</em></h5><p><strong>Notebook</strong> - аналог Zeppelin Notebook. </p><p><strong>Атрибуты Notebook</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя notebook</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код notebook</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание notebook</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего notebook</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан notebook</td></tr><tr><td>Datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к notebook</td></tr><tr><td>Notebook paragraphs</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список параграфов в notebook</td></tr><tr><td>Parameters</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Параметры объекта notebook.<br><strong>Name</strong> - Название параметра;<br><strong>Value</strong> - Значение параметра;<br><strong>Expression</strong> - Включение параметра означает, что значение является выражением языка Scala. В обратном случае - текстовое значение;<br><strong>Description</strong> - Описание параметра</td></tr></tbody></table></figure><p>По кнопке <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Обзор - форма для визуализации данных;</li><li>Редактор свойств.</li></ul><p><strong>Работа с notebook</strong></p><p>После создания notebook на экране отобразится форма Notebook view. Если при создании notebook были указаны параграфы (поле &quot;Notebook paragraphs&quot;), то данные параграфы также отобразятся в форме.</p><p><img src='Pic\NewNotebook.png' alt='NewNotebook' referrerPolicy='no-referrer' /></p><p>Для добавления новых параграфов используйте кнопки <img src='Pic\NewParagraphHeader.png' alt='NewParagraphHeader' referrerPolicy='no-referrer' />, расположенную в заголовке notebook, или <img src='Pic\NewParagraphBetween.png' alt='NewParagraphBetween' referrerPolicy='no-referrer' />, которая появляется при подведении курсора к центру пространства под параграфом.</p><p>После создания необходимого количества параграфов, для каждого из них выберите интерпритатор кода и напечатайте запрос или код на соответствующем языке. Если в коде должны быть использованы данные из других датасетов, то их необходимо добаить в notebook, для этого кликните по полю &quot;Добавить датасет&quot;, расположенном на панели в правой части экрана.</p><p>Для формирования данных в notebook запустите выполнение кода одним из вариантов:</p><ul><li>По кнопке <img src='Pic\PlayButton.png' alt='PlayButton' referrerPolicy='no-referrer' />, расположенной в заголовке notebook будет запущено выполнение всех параграфов;</li><li>По кнопке <img src='Pic\PlayButton.png' alt='PlayButton' referrerPolicy='no-referrer' />, расположенной в блоке параграфа будет запущено выполнение данного параграфа.</li></ul><p>После запуска в параграфах отобразятся результаты выполнения кода.</p><p><img src='Pic\ParagraphResult.png' alt='ParagraphResult' referrerPolicy='no-referrer' /></p><p>По кнопке <img src='Pic\GearButton.png' alt='GearButton' referrerPolicy='no-referrer' />, расположенной в блоке параграфа, доступен список настроек вывода данных и редактора кода данного параграфа. </p><p><a id='sseReferenceDataset'></a></p><h5><a name='header-n4500' class='md-header-anchor '></a><em>Reference dataset</em></h5><p>Reference dataset – вспомогательная сущность. Позволяет аналитику создавать и, в дальнейшем, дополнять справочники для классификации данных в существующих датасетах.</p><p><strong>Атрибуты Reference dataset</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя датасета</td></tr><tr><td>Short name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Код датасета</td></tr><tr><td>Dataset description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание датасета</td></tr><tr><td>User - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя пользователя, создавшего датасет</td></tr><tr><td>Group - Owner</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Название группы пользователей</td></tr><tr><td>Parent Workspace</td><td style='text-align:center;' >Заполняется автоматически</td><td style='text-align:left;' >Имя рабочего пространства, в котором существует датасет</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан датасет</td></tr><tr><td>Datasets</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список зависимых датасетов</td></tr><tr><td>Dataset access permissions</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Настройки доступа к датасету</td></tr><tr><td>Dataset columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Array<br>Scalar<br>Struct</td></tr><tr><td>Partition columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список колонок, по которым будут партицироваться данные</td></tr><tr><td>Primary key</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Значение Primary key</td></tr></tbody></table></figure><p>По кнопке <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> доступны формы:<br></p><ul><li>Метаданные - форма просмотра метаданных;</li><li>Обзор - форма для визуализации данных;</li><li>Редактор свойств.</li></ul><p><strong>Операции Reference dataset</strong></p><p>Операции доступны по кнопке <img src='C:/D/SVN/DOC/MD%20manual/UserManualRU/Pic/OperationsButton.png' alt='' referrerPolicy='no-referrer' />.<br></p><ul><li>Recreate table - пересоздает таблицу с данными. </li><li>Load CSV file - загружает данные из CSV файла в датасет. </li></ul><h4><a name='header-n4571' class='md-header-anchor '></a>Работа с датасетами</h4><h5><a name='header-n4572' class='md-header-anchor '></a><em>Просмотр данных датасета</em></h5><p>Переход на вкладку &quot;Dataset view&quot; для просмотра данных возможен двумя способами:</p><ol start='' ><li><p>Откройте датасет, нажмите кнопку <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> и выберите пункт &quot;View&quot;.<br></p><p><img src='Pic\OpenView.png' alt='' referrerPolicy='no-referrer' /></p></li><li><p>Откройте workspace, найдите нужный датасет, нажмите кнопку <img src='Pic\GearButton.png' alt='' referrerPolicy='no-referrer' /> и выберите пункт &quot;View data&quot;.<br><img src='Pic\ViewDatasetData.png' alt='' referrerPolicy='no-referrer' /></p></li></ol><p>На вкладке &quot;View&quot; данные могут быть представленны в виде:</p><ul><li><p>Таблицы.<br></p><p><img src='Pic\TableView.png' alt='' referrerPolicy='no-referrer' /></p></li><li><p>Линейного графика.<br><img src='Pic\LineChartView.png' alt='' referrerPolicy='no-referrer' /></p></li><li><p>Гистограммы. </p></li></ul><h5><a name='header-n4589' class='md-header-anchor '></a><em>Просмотр метаданных датасета</em></h5><p>Для просмотра метаданных, перейдите на вкладку &quot;Dataset metadata&quot;. Для этого выберите пункт &quot;Metadata&quot; в списке, открываемом кнопкой <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> в открытом датасете, или кнопкой <img src='Pic\GearButton.png' alt='' referrerPolicy='no-referrer' />  в открытом workspace.<br>На вкладке &quot;Dataset metadata&quot; представлены:</p><ul><li><p>Common - метаданные датасета.</p><p><img src='Pic\CommonDatasetMetadata.png' alt='' referrerPolicy='no-referrer' /></p></li><li><p>Dataset columns - на вкладке представленны метаданные, импортированные из источника данных датасета.</p><p><img src='Pic\DatasetColumns.png' alt='' referrerPolicy='no-referrer' /></p></li></ul><p>Для импорта/обновления метаданных в датавете используйте операцию &quot;Import metadata&quot;, которая доступна по кнопке <img src='Pic\OperationsButton.png' alt='' referrerPolicy='no-referrer' /> (данная операция доступна не для всех датасетов).</p><h5><a name='header-n4599' class='md-header-anchor '></a><em>Редактирование атрибутов датасета</em></h5><p>Редактирование атрибутов датасета выполняется на вкладке &quot;Properties editor&quot;. Для перехода на вкладку выберите пункт &quot;Properties editor&quot; в списке, открываемом кнопкой <img src='Pic/PlusButton.png' alt='' referrerPolicy='no-referrer' /> в открытом датасете, или кнопкой <img src='Pic\GearButton.png' alt='' referrerPolicy='no-referrer' />  в открытом workspace. Атрибуты датасетов описаны в соответствующих пунктах раздела <a href='#sseDatasetTypes'>&quot;Типы датасетов&quot;</a>.</p><p>&nbsp;</p><p><a id='additional_features_of_program'></a> </p><h2><a name='header-n4603' class='md-header-anchor '></a>Дополнительные возможности программы</h2><p><a id='migrating_data_from_csv_to_external_sys_db'></a> </p><h3><a name='header-n4605' class='md-header-anchor '></a>Перенос данных из CSV файлов в базу данных внешней системы</h3><p>В ситуациях, когда необходимо выполнить перенос данных из большого количества CSV файлов в базу данных внешней системы для каждого CSV файла нужно настроить свой объект <strong>Transformation</strong>, а для управления трансформациями создать объект <strong>Workflow</strong>. Выполнение такого объема настроек может занять значительное количество времени. Для решения данной проблемы в программе разработаны объекты <strong>StagingArea</strong>.</p><p><a id='stagingarea_objects'></a> </p><h4><a name='header-n4608' class='md-header-anchor '></a>Объекты Staging Area</h4><p>Атрибуты объектов <strong>Staging Area</strong>, а также атрибуты вложенных объектов, описывают параметры переноса данных из CSV файлов в базу данных и позволяют автоматизировать создание объектов <strong>Transformation</strong> и <strong>Workflow</strong> для выполнения переноса.</p><p>Действия с объектами <strong>Staging Area</strong> выполняются в разделе интерфейса <strong>«Инструменты/Staging Area»</strong>.</p><p>&nbsp;</p><p><strong>Атрибуты объектов Staging Area</strong></p><figure><table><thead><tr><th>Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта.<br>При указании имени необходимо учитывать, что оно должно удовлетворять правилам формирования идентификаторов в языке Java</td></tr><tr><td>Oozie</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект Oozie, для подключения к серверу Oozie</td></tr><tr><td>Deployments</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список объектов Deployment, при помощи которых выполняется доступ к базам данных внешних систем</td></tr><tr><td>Project</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Проект, к которому привязан объект</td></tr><tr><td>Context</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >В поле устанавливается объект JdbcContext, который определяет настройки подключения к нужной базе данных</td></tr><tr><td>Software system</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Объект Software system, который описывает внешнюю систему, к которой будет выполнено подключение</td></tr><tr><td>Catalog</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Путь к каталогу, в котором хранятся CSV файлы</td></tr><tr><td>CSV Options</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Delimiter - символ, используемый в качестве разделителя между значениями в CSV;<br>Date Format - формат даты, используемый в файле;<br>Charset - Кодировка, используемая в файле;<br>Header - Если параметр включен, то пропускается первая строка при чтении данных из CSV файла</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Параметры объектов Staging Area</strong></p><figure><table><thead><tr><th>Параметр</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название параметра объекта</td></tr><tr><td>Value</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Значение параметра</td></tr><tr><td>Expression</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Включение параметра означает, что значение является выражением языка Scala. В обратном случае - текстовое значение</td></tr><tr><td>Description</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Описание параметра</td></tr></tbody></table></figure><p><strong>Атрибуты вложенного объекта Default Fields</strong></p><figure><table><thead><tr><th>Параметр</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта Default Field</td></tr><tr><td>Field</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название поля столбца в таблице</td></tr><tr><td>Expression</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Выражение на языке Scala, используемое для формирования значение, которое записывается в столбец таблицы</td></tr><tr><td>Static</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Если параметр включен, то значение рассчитывается один и записывается во все строки столбца. В обратном случае значение рассчитывается для каждой строки</td></tr></tbody></table></figure><p><strong>Атрибуты вложенного объекта Tables</strong></p><figure><table><thead><tr><th>Параметр</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Name</td><td style='text-align:center;' >Да</td><td style='text-align:left;' >Название объекта Default Field</td></tr><tr><td>Table</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название таблицы, в которую переносятся данные из CSV файла</td></tr><tr><td>File Name</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Название файла, из которого переносятся данные</td></tr><tr><td>Columns</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список полей с данными в CSV файле</td></tr><tr><td>Default Fields</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Список столбцов в таблице</td></tr><tr><td>Mappings<br>(используется в случае<br>несоответствия названий<br>полей в CSV файле и таблице)</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >From - название поля в CSV;<br>To - название столбца таблицы, в который переносятся данные</td></tr><tr><td>CSV Options<br>(используется, если<br>в конкретном файле<br>параметры CSV отличаются<br> от заданных<br>для объекта Staging Area)</td><td style='text-align:center;' >Нет</td><td style='text-align:left;' >Delimiter - символ, используемый в качестве разделителя между значениями в CSV;<br>Date Format - формат даты, используемый в файле;<br>Charset - Кодировка, используемая в файле;<br>Header - Если параметр включен, то пропускается первая строка при чтении данных из CSV файла</td></tr></tbody></table></figure><p><strong>Операции, доступные для объектов Staging Area</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Сгенерировать Workflow</td><td style='text-align:left;' >При выполнении операции программа автоматически генерирует объекты Transformation, Workflow и WorkflowDeployment, необходимые для исполнения трансформации на сервере Oozie.<br><br>Названия создаваемых объектов формируются по правилам:<br><code>workflow.name = stagingArea.name + _workflow</code>;<br><code>workflowDeployment.name = stagingArea.name + _WorkflowDeployment</code>;<br><code>transformation.name = stagingArea.name + _stagingTable.table.name</code></td></tr></tbody></table></figure><p> </p><p><a id='rtScheduledTask'></a></p><h2><a name='header-n4739' class='md-header-anchor '></a>Запуск операций объектов по расписанию</h2><p>Объекты &quot;Scheduled task&quot; позволяют настроить запуск любых операций любых объектов программы по расписанию.</p><p>Действия с объектами &quot;Scheduled task&quot; выполняются в разделе интерфейса «Сервер/Scheduled task».</p><p><strong>Атрибуты объектов Scheduled task</strong></p><figure><table><thead><tr><th style='text-align:left;' >Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th>Описание</th></tr></thead><tbody><tr><td style='text-align:left;' >Name</td><td style='text-align:center;' >Да</td><td>Название объекта &quot;Scheduled task&quot;</td></tr><tr><td style='text-align:left;' >Project</td><td style='text-align:center;' >Нет</td><td>Объект &quot;Project&quot;, к которому привязан объект &quot;Scheduled task&quot;</td></tr><tr><td style='text-align:left;' >Enable</td><td style='text-align:center;' >Нет</td><td>Включить/выключить работу &quot;Scheduled task&quot;</td></tr><tr><td style='text-align:left;' >Entity Type</td><td style='text-align:center;' >Нет</td><td>Тип сущности (<a href='#tab_entityType'>см. таблицу</a>)</td></tr><tr><td style='text-align:left;' >Entity Name</td><td style='text-align:center;' >Нет</td><td>Название сущности для которой будет применяться запуск по расписанию (имя объекта)</td></tr><tr><td style='text-align:left;' >Method name</td><td style='text-align:center;' >Нет</td><td>Имя метода (<a href='#tab_methodName'>см. таблицу</a>)</td></tr><tr><td style='text-align:left;' >Scheduler</td><td style='text-align:center;' >Нет</td><td>Типы расписания:<br><strong>Chron</strong> - устанавливаетcя расписание запусков заданий при помощи chron выражения (<a href='https://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm'>подробнее</a>);<br><strong>Delay</strong> - запуск задания через указанный период времени. Началом отсчета интервала времени для каждого последующего периода запуска является окончание предыдущего запуска задания;<br><strong>Once</strong> - единичный запуск задания по времени, указанном в поле &quot;Start time&quot;. Если &quot;Start time&quot; не задан, то запуск будет произведен единожды при выполнении операции &quot;Refresh scheduler&quot;. Параметр Disable After Run позволяет настроить отключение объекта &quot;Scheduled task&quot; после запуска задания;<br><strong>Period</strong> - запуск задания через указанный период времени.  Данный тип расписания не отслеживает завершенность предыдущего запуска задания, это необходимо учитывать, т.к. может произойти наложение запусков</td></tr><tr><td style='text-align:left;' >Backoff Policy</td><td style='text-align:center;' >Нет</td><td>Поддерживаемые типы Backoff Policy (<a href='https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/backoff/BackOff.html'>подробнее</a>):<br>Exponential Backoff Policy;<br>Exponential Random Backoff Policy;<br>Fixed Backoff Policy;<br>No Backoff Policy;<br>Uniform Random Backoff Policy</td></tr><tr><td style='text-align:left;' >Retry Policy</td><td style='text-align:center;' >Нет</td><td>Поддерживаемые типы Retry Policy (<a href='https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/RetryPolicy.html'>подробнее</a>):<br>Always Retry Policy;<br>Never Retry Policy;<br>Simple Retry Policy;<br>Timeout Retry Policy</td></tr><tr><td style='text-align:left;' >Last Schedule Time</td><td style='text-align:center;' >Заполняется автоматически</td><td>Расчетное время последнего запуска по расписанию</td></tr><tr><td style='text-align:left;' >Last Run Time</td><td style='text-align:center;' >Заполняется автоматически</td><td>Реальное время последнего запуска</td></tr><tr><td style='text-align:left;' >Last Error Time</td><td style='text-align:center;' >Заполняется автоматически</td><td>Время возникновения ошибки запуска</td></tr><tr><td style='text-align:left;' >Last Error</td><td style='text-align:center;' >Заполняется автоматически</td><td>Описание ошибки</td></tr></tbody></table></figure><p>&nbsp;</p><p><strong>Операции, доступные для объектов Scheduled task</strong></p><figure><table><thead><tr><th>Название операции</th><th style='text-align:left;' >Описание</th></tr></thead><tbody><tr><td>Refresh Scheduler</td><td style='text-align:left;' >Операция запускает выполнение Scheduled task с измененными настройками, если такие вносились</td></tr></tbody></table></figure><p><a id='tab_entityType'></a></p><p><strong>Соответствие типов объектов и Entity type</strong></p><figure><table><thead><tr><th>Тип объекта</th><th>Entity name</th></tr></thead><tbody><tr><td>JDBC Connection</td><td>rt.JdbcConnection</td></tr><tr><td>Software System</td><td>rt.SoftwareSystem</td></tr><tr><td>Deployment</td><td>rt.Deployment</td></tr><tr><td>Workflow Deployment</td><td>rt.WorkflowDeployment</td></tr><tr><td>Transformation Deployment</td><td>rt.TransformationDeployment</td></tr><tr><td>Coordinator deployment</td><td>rt.CoordinatorDeployment</td></tr><tr><td>Transformation</td><td>etl.Transformation</td></tr><tr><td>Workflow</td><td>etl.Workflow</td></tr><tr><td>Project</td><td>etl.Project</td></tr><tr><td>Workspace</td><td>sse.Workspace</td></tr><tr><td>Environment</td><td>rt.Environment</td></tr><tr><td>Scheduled task</td><td>rt.ScheduledTask</td></tr></tbody></table></figure><p><a id='tab_methodName'></a></p><p><strong>Соответствие операций и Method name</strong></p><figure><table><thead><tr><th>Название операции</th><th>Method name</th></tr></thead><tbody><tr><td>Протестировать</td><td>test</td></tr><tr><td>Обновить схему</td><td>refreshScheme</td></tr><tr><td>Проверить</td><td>validate</td></tr><tr><td>Сгенирировать</td><td>generate</td></tr><tr><td>Собрать</td><td>build</td></tr><tr><td>Скопировать</td><td>deploy</td></tr><tr><td>Сгенерировать и скопировать</td><td>install</td></tr><tr><td>Запустить</td><td>run<br>runit (для объектов Workflow)</td></tr><tr><td>Сгенерировать и запустить</td><td>generateAndRun</td></tr><tr><td>Собрать и запустить</td><td>buildAndRun</td></tr><tr><td>Текущее состояние</td><td>getStatus</td></tr><tr><td>Импорт</td><td>importTransformation (для объектов Transformation)<br>importWorkflow (для объектов Workflow)</td></tr><tr><td>Экспорт</td><td>exportTransformation (для объектов Transformation)<br>exportWorkflow (для объектов Workflow)</td></tr><tr><td>Зависимости</td><td>dependencies</td></tr><tr><td>Создать представление</td><td>setJsonView</td></tr><tr><td>Загрузить проект</td><td>importProject</td></tr><tr><td>Выгрузить проект</td><td>exportProject</td></tr><tr><td>Загрузить архив</td><td>uploadArchive</td></tr><tr><td>Выгрузить архив</td><td>downloadArchive</td></tr><tr><td>Загрузить репозиторий</td><td>importRepo</td></tr><tr><td>Выгрузить репозиторий</td><td>exportRepo</td></tr><tr><td>Очистить проект</td><td>clear</td></tr><tr><td>Восстановить ссылки</td><td>importScripts</td></tr><tr><td>Удалить потерянные объекты</td><td>clearLost</td></tr><tr><td>SVN Checkout</td><td>svnCheckout</td></tr><tr><td>SVN Update</td><td>svnUpdate</td></tr><tr><td>SVN Checkout or Update</td><td>svnCheckoutOrUpdate</td></tr><tr><td>SVN Commit</td><td>svnCommit</td></tr><tr><td>SVN Cleanup</td><td>svnCleanup</td></tr><tr><td>Перезаписать параметры</td><td>rewriteParameters</td></tr><tr><td>Перезаписать параметры текущей среды</td><td>rewriteCurrent</td></tr><tr><td>Зашифровать строку</td><td>encryptString</td></tr><tr><td>Расшифровать строку</td><td>decryptString</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='evnstreaming'></a></p><h2><a name='header-n4958' class='md-header-anchor '></a>Streaming. Потоковая обработка данных</h2><p>Streaming - cистема потоковой обработки данных, которая позволяет анализировать входящий поток данных, получаемых из Kafka или из других систем в форматах *.json или *.avro.</p><p>Данная система может быть использована в различных сферах бизнеса, где требуется бесприрывный анализ входящего потока событий, например: анализ поведения пользователя на страницах сайта или контроль перемещения автомобилей при организации перевозок и т.д.</p><p>Для организации потоковой обработки данных необходимо создать и настроить объекты:</p><ul><li>Events processor;</li><li><a href='#data_transformation'>Transformation</a> (схема трансформации обязательно должна содержать элемент <a href='#etlGroupwithstate'>Group with state</a> при помощи которого в схему включаются правила обработки входящего потока данных).</li></ul><p>&nbsp;</p><p><a id='evnEventsProcessor'></a> </p><h3><a name='header-n4969' class='md-header-anchor '></a>Объекты Events processor</h3><p>Объекты Events processor хранят описания структур входящего и исходящего потока данных, а также  правила их обработки. </p><p>Действия с объектами <strong>Events processor</strong> выполняются в разделе интерфейса <strong>«Streaming/Events processor»</strong>.</p><p><strong>Атрибуты объектов Events processor</strong></p><figure><table><thead><tr><th style='text-align:left;' >Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th>Описание</th></tr></thead><tbody><tr><td style='text-align:left;' >Name</td><td style='text-align:center;' >Да</td><td>Название объекта</td></tr><tr><td style='text-align:left;' >Description</td><td style='text-align:center;' >Нет</td><td>Описание объекта</td></tr><tr><td style='text-align:left;' >Project</td><td style='text-align:center;' >Нет</td><td>Объект &quot;Project&quot;, к которому привязан объект &quot;Events processor&quot;</td></tr><tr><td style='text-align:left;' >Input structure</td><td style='text-align:center;' >Да</td><td>Описание структуры входящего потока данных</td></tr><tr><td style='text-align:left;' >Internal state structure</td><td style='text-align:center;' >Нет</td><td>Структура данных с промежуточными результатами обработки входящего потока, рассчитанными между событиями. Internal state structure сохраняются</td></tr><tr><td style='text-align:left;' >Output structure</td><td style='text-align:center;' >Нет</td><td>Описание структуры исходящего потока данных</td></tr><tr><td style='text-align:left;' >Local variables</td><td style='text-align:center;' >Нет</td><td>Структура данных с промежуточными результатами обработки входящего потока, расчитанными между правилами. Local variables не сохраняются</td></tr><tr><td style='text-align:left;' >Rules</td><td style='text-align:center;' >Нет</td><td>Список правил анализа событий<br><br><em>Между собой все правила объединяются логическим оператором AND</em></td></tr></tbody></table></figure><p>&nbsp;</p><h5><a name='header-n5011' class='md-header-anchor '></a><em>Настройка потоков данных и правил анализа</em></h5><p>После создания объекта &quot;Events processor&quot; необходимо настроить структуры данных для анализа. Для этого по кнопке  <img src='Pic\PlusButton.png' alt='' referrerPolicy='no-referrer' /> откройте вкладку &quot;Events pocessor rules editor&quot;.</p><p>&nbsp;</p><p>Анализ входящего потока событий выполняется при помощи правил обработки, настраиваемых пользователем. Для создания и/или редактирования правил, перейдите на вкладку &quot;Rule editor&quot;, которая открывается по кнопке <img src='Pic\PlusButton.png' alt='' referrerPolicy='no-referrer' />  . <img src='Pic\Events rules.png' alt='Events rules' referrerPolicy='no-referrer' /></p><p>Новые правила создаются по кнопке <img src='Pic\SelectTransformationDeploymentButton.png' alt='' referrerPolicy='no-referrer' />, расположенной правее строки поиска (см. рисунок выше).</p><blockquote><p><em>Примечание.</em></p><p><em>Количество создаваемых правил не ограничено. Между собой правила верхнего уровня объединяются логическим оператором AND. Правила, созданные внутри правила могут быть объединены операторами AND или OR</em>.</p></blockquote><p>&nbsp;</p><p><img src='Pic\Events new rules.png' alt='Events new rules' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><p>&nbsp;</p><p>  Язык Mvel <a href='https://github.com/mvel/mvel' target='_blank' class='url'>https://github.com/mvel/mvel</a></p><p>&nbsp;</p><p><a id='evnEventsProcessor'></a> </p><h3><a name='header-n5026' class='md-header-anchor '></a>Объекты Function</h3><p>&nbsp;</p><p><strong>«Streaming/Function»</strong></p><p><strong>Атрибуты объектов Function</strong></p><figure><table><thead><tr><th style='text-align:left;' >Атрибут</th><th style='text-align:center;' >Обязательно<br>заполнение</th><th>Описание</th></tr></thead><tbody><tr><td style='text-align:left;' >Library</td><td style='text-align:center;' >Нет</td><td>Название библиотеки к которой привязан объект Function. Билиотеки создаются в разделе интерфейса: &quot;Streaming/Functions library&quot;</td></tr><tr><td style='text-align:left;' >Text pattern</td><td style='text-align:center;' >Нет</td><td>Описание объекта, которое отображается в окне поиска функции при настройке правил анализа событий</td></tr><tr><td style='text-align:left;' >Name</td><td style='text-align:center;' >Да</td><td>Имя объекта</td></tr><tr><td style='text-align:left;' >Input parameters</td><td style='text-align:center;' >Да</td><td>Описание входящих параметров</td></tr><tr><td style='text-align:left;' >Output parameters</td><td style='text-align:center;' >Да</td><td>Описание исходящих параметров</td></tr><tr><td style='text-align:left;' >Scala source code</td><td style='text-align:center;' >Нет</td><td>Код функции на языке Scala</td></tr><tr><td style='text-align:left;' >Description</td><td style='text-align:center;' >Нет</td><td>Описание кода функции</td></tr></tbody></table></figure><p>&nbsp;</p><p><a id='sla_monitoring_oozie_tasks'></a></p><h2><a name='header-n5065' class='md-header-anchor '></a>SLA мониторинг задач Oozie</h2><p>SLA позволяет (<a href='https://oozie.apache.org/docs/4.0.0/DG_SLAMonitoring.html'>подробнее</a>):</p><ol start='' ><li>Посылать сообщения, если в ходе выполнения задача не уложилась во временные рамки, указанные в ее настройках (задачи Oozie - это Coordinator Jobs и Workflow, а также Task запущенные в ходе Workflow.);</li><li>Показывать результат на закладке «SLA» в Oozie web Console.</li></ol><p>Для того чтобы появилась закладка, настройте Oozie, для этого в site.xml укажите:</p><ol start='' ><li><code>&lt;property&gt;</code></li><li><code>&lt;name&gt;oozie.services.ext&lt;/name&gt;</code></li><li><code>&lt;value&gt;</code></li><li><code>org.apache.oozie.service.EventHandlerService,org.apache.oozie.sla.service.SLAService &lt;/value&gt;</code></li><li><code>&lt;/property&gt;</code></li><li><code>&lt;property&gt;</code></li><li><code>&lt;name&gt;oozie.service.EventHandlerService.event.listeners&lt;/name&gt;</code></li><li><code>&lt;value&gt;</code></li><li><code>org.apache.oozie.sla.listener.SLAJobEventListener,org.apache.oozie.sla.listener.SLAEmailEventListener</code></li><li><code>&lt;/value&gt;</code></li><li><code>&lt;/property&gt;</code></li></ol><p><strong>Пример настройки Workflow для SLA.</strong></p><p><img src='Pic\SlaDefinitionExample.png' alt='' referrerPolicy='no-referrer' /></p><ol start='' ><li>Точка отчета для SLA - это переменная nominal_time, такая переменная создается автоматически при запуске задачи из Datagram, туда записывается текущее время;</li><li>Задача должна запуститься в течение 10 минут после nominal_time;</li><li>Задача должна завершиться через 20 минут после nominal_time;</li><li>Задача максимально должна длиться не более 30 минут начиная с nominal_time;</li><li>Информировать в случае если начало, конец и длительность не уложились в указанные рамки;</li><li>Выслать отчет об ошибке на <a href='mailto:psimanihin@neoflex.ru'>psimanihin@neoflex.ru</a>.</li></ol><p>&nbsp;</p><p><a id='appendix'></a> </p><h1><a name='header-n5113' class='md-header-anchor '></a>Приложения</h1><p><a id='appendix1'></a> </p><h2><a name='header-n5115' class='md-header-anchor '></a>Приложение 1. Соответствие типов полей в дизайнере трансформаций классам языка Scala</h2><p>&nbsp;</p><figure><table><thead><tr><th>Тип данных в дизайнере</th><th style='text-align:left;' >Соответствующий класс языка Scala</th></tr></thead><tbody><tr><td>STRING</td><td style='text-align:left;' >java.lang.String</td></tr><tr><td>DECIMAL</td><td style='text-align:left;' >java.math.BigDecimal</td></tr><tr><td>INTEGER</td><td style='text-align:left;' >java.lang.Integer</td></tr><tr><td>DATE</td><td style='text-align:left;' >java.sql.Date</td></tr><tr><td>TIME</td><td style='text-align:left;' >java.sql.Timestamp</td></tr><tr><td>DATETIME</td><td style='text-align:left;' >java.sql.Timestamp</td></tr><tr><td>BINARY</td><td style='text-align:left;' >Array[Byte]</td></tr><tr><td>BOOLEAN</td><td style='text-align:left;' >java.lang.Boolean</td></tr><tr><td>LONG</td><td style='text-align:left;' >java.lang.Long</td></tr><tr><td>FLOAT</td><td style='text-align:left;' >java.lang.Float</td></tr><tr><td>STRUCT</td><td style='text-align:left;' >-</td></tr><tr><td>ARRAY</td><td style='text-align:left;' >-</td></tr></tbody></table></figure><p><a id='appendix2'></a> </p><h2><a name='header-n5158' class='md-header-anchor '></a>Приложение 2. Встроенные функции редактора выражений</h2><figure><table><thead><tr><th><strong>ABS(arg: java.math.BigDecimal): java.math.BigDecimal</strong></th></tr></thead><tbody><tr><td>Функция принимает значение одного аргумента и возвращает его абсолютное значение.<br><br><em>Аргументы:</em><br><strong>аrg</strong> - число, абсолютное значение которого необходимо определить.<br><br><em>Возвращаемое значение:</em><br>абсолютное значение аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>ABS(arg: java.lang.Integer): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция принимает значение одного аргумента и возвращает его абсолютное значение.<br><br><em>Аргументы:</em><br><strong>аrg</strong> - число, абсолютное значение которого необходимо определить.<br><br><em>Возвращаемое значение:</em><br>Абсолютное значение аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>SIGN(arg: java.math.BigDecimal): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция принимает значение одного аргумента и возвращает результат применения signum-функции.<br><br><em>Аргументы:</em><br><strong>аrg</strong> - значение аргумента к которому применяется signum-функция.<br><br><em>Возвращаемое значение:</em><br><strong>-1</strong>, если arg &lt; 0;<br><strong>1</strong>, если arg &gt; 0;<br><strong>0</strong>, если arg = 0</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>SIGN(arg: java.lang.Integer): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция принимает значение одного аргумента и возвращает результат применения signum-функции.<br><br><em>Аргументы:</em><br><strong>аrg</strong> - значение аргумента к которому применяется signum-функция.<br><br><em>Возвращаемое значение:</em><br><strong>-1</strong>, если arg &lt; 0;<br><strong>1</strong>, если arg &gt; 0;<br><strong>0</strong>, если arg = 0</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>NVL(expr: AnyRef, arg1: AnyRef): AnyRef</strong></th></tr></thead><tbody><tr><td>Функция получает два аргумента (expr и arg1). Если expr не равен null (Nill), то функция возвращает его значение. Если expr равен null (Nill), то возвращает значение arg1.<br><br><em>Аргументы:</em><br><strong>expr</strong> - значение, сравниваемое с null;<br><strong>arg1</strong> - аргумент.<br><br><em>Возвращаемое значение:</em><br><strong>expr</strong>, если expr ≠ null (Nill);<br><strong>arg1</strong>, если expr = null (Nill)</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>NVL2(expr: AnyRef, arg1: AnyRef, arg2: AnyRef): AnyRef</strong></th></tr></thead><tbody><tr><td>Функция получает три аргумента (expr, arg1 и arg2). Если expr не равен null (Nill), то функция возвращает значение аргумента arg1. Если expr равен null (Nill), то возвращает значение arg2.<br><br><em>Аргументы:</em><br><strong>expr</strong> - значение, сравниваемое с null;<br><strong>аrg1</strong> и <strong>arg2</strong> - аргументы.<br><br><em>Возвращаемое значение:</em><br><strong>arg1</strong>, если expr ≠ null;<br><strong>arg2</strong>, если expr = null</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>COALESCE(arg: AnyRef*): AnyRef</strong></th></tr></thead><tbody><tr><td>Функция принимает произвольное количество аргументов и возвращает значение первого аргумента, который не равен null (Nill). Если значения всех аргументов определены как null (Nill) или они отсутствуют, то функция вернет null (Nill).<br><br><em>Аргументы:</em><br><strong>arg</strong> - значения аргументов, которые сравниваются с null.<br><br><em>Возвращаемое значение:</em><br><strong>Значение первого аргумента</strong>, который не равен null (Nill);<br><strong>null (Nill)</strong>, если значения всех аргументов определены как null (Nill)</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DEFINED(arg: AnyRef): Boolean</strong></th></tr></thead><tbody><tr><td>Функция принимает один аргумент и проверяет определено ли его значение.<br><br><em>Аргументы:</em><br><strong>arg</strong> - значение, сравниваемое с null.<br><br><em>Возвращаемое значение:</em><br><strong>False</strong> - если значение аргумента не определено (равно null (Nill));<br><strong>True</strong> - если значение аргумента определено</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DECODE(expr: AnyRef, search1: AnyRef, result1: AnyRef,...,searchN:<br> AnyRef, resultN: AnyRef,...[,default: AnyRef]): AnyRef</strong></th></tr></thead><tbody><tr><td>Функция последовательно сравнивает значение аргумента expr со значениями аргументов search1, search2,…, searcN. При обнаружении равенства значений аргументов, функция возвращает значение соответствующего аргумента result. Если равенств не найдено, то функция вернет значение аргумента default или null, если аргумент default не задан.<br><br><em>Аргументы:</em><br><strong>expr</strong> - значение аргумента с которым функция сравнивает значения аргументов search;<br><strong>search1,...,searchN</strong> - значения аргументов, сравниваемые со значением аргумента expr;<br><strong>result1,...,resultN</strong> - значения аргументов, которые функция может вернуть в случае равенства значений аргументов expr и соответствующего search.<br><br><em>Возвращаемое значение:</em><br><strong>resultX</strong> - если значение аргумента expr=searchX;<br><strong>default</strong> - если равенств не найдено;<br><strong>null</strong> - если равенств не найдено и default не задан.<br><br><em>Пример:</em><br>DECODE (warehouse_id,1,&#39;Southlake&#39;,2,&#39;San Francisco&#39;,3,&#39;New Jersey&#39;,4,&#39;Seattle&#39;, ,&#39;Non domestic&#39;)<br>В приведенном примере функция вернет значение:<br>Southlake, если warehouse_id = 1;<br>San Francisco, если warehouse_id =2;<br>Non domestic, если warehouse_id не равно 1, 2, 3, или 4</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(date_part: java.sql.Timestamp, hourOfDay: Int, minute:<br>Int, second: Int, millisecond: Int): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает объект java.sql.Timestamp и четыре значения типа Int, возвращает объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>date_part</strong> - объект java.sql.Timestamp из которого выбираются компоненты даты [год, месяц, день];<br><strong>hourOfDay</strong> - количество часов в диапазоне от 0 до 23;<br><strong>minute</strong> - количество минут в диапазоне от 0 до 59;<br><strong>second</strong> - количество секунд в диапазоне от 0 до 59;<br><strong>millisecond</strong> - количество миллисекунд в диапазоне от 0 до 999.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргументов</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(date_part: java.sql.Timestamp, time_part: java.sql.Timestamp): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает два объекта: java.sql.Timestamp. Из первого объекта выбирает компоненты даты, из второго объекта – компоненты времени и возвращает объект java.sql.Timestamp с выбранными значениями.<br><br><em>Аргументы:</em><br><strong>date_part</strong> - объект java.sql.Timestamp из которого выбираются компоненты даты [год, месяц, день];<br><strong>time_part</strong> - объект java.sql.Timestamp из которого выбираются компоненты времени [часы, минуты, секунды, миллисекунды].<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргументов</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(date: java.sql.Date, time_part: java.sql.Timestamp): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает два объекта: java.sql.Date и java.sql.Timestamp. Из первого объекта выбирает значения даты, из второго объекта - компонент времени и возвращает объект java.sql.Timestamp с выбранными значениями.<br><br><em>Аргументы:</em><br><strong>date</strong> - значения [год, месяц, день], полученные из объекта java.sql.Date;<br><strong>time_part</strong> - значения [часы, минуты, секунды, миллисекунды], полученные из объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргументов</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(year: Int, month: Int, dayOfMonth: Int, time_part: java.sql.Timestamp): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает четыре значения типа Int, объект java.sql.Timestamp, из которого выбирает компонент времени и возвращает объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>year</strong> - значение типа Int [год];<br><strong>month</strong> - значение типа Int [месяц];<br><strong>dayOfMonth</strong> - значение типа Int [день];<br><strong>time_part</strong> - компоненты времени [часы, минуты, секунды, миллисекунды], выбранные из объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргументов</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(date: java.sql.Date): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция преобразует значения объекта java.sql.Date в объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>date</strong> - значения, полученные из объекта java.sql.Date.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(year: Int, month: Int, dayOfMonth: Int, hourOfDay: Int, minute: Int, second: Int, millisecond: Int): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает семь значений типа Int и возвращает объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>year</strong> - значение типа Int [год];<br><strong>month</strong> - значение типа Int [месяц];<br><strong>dayOfMonth</strong> - значение типа Int [день];<br><strong>hourOfDay</strong> - значение типа Int [часы];<br><strong>minute</strong> - значение типа Int [минуты];<br><strong>second</strong> - значение типа Int [секунды];<br><strong>millisecond</strong> - значение типа Int [миллисекунды].<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргументов</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME_STRING(timestamp: java.sql.Timestamp): String</strong></th></tr></thead><tbody><tr><td>Функция преобразует значения объекта java.sql.Timestamp в строковую величину вида: <code>y-M-d H:m:s.S</code> (пример: 2016-04-15 13:38:45.999).<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значение, которое необходимо отформатировать.<br><br><em>Возвращаемое значение:</em><br>Строковое представление <strong>timestamp</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(value: String): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция преобразует строковую величину вида: <code>y-M-d H:m:s.S</code> (пример: 2016-04-15 13:38:45.999) в объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>value</strong> - строка, которую необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATETIME(): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция возвращает значение [1900, 1, 1, 0, 0, 0, 0] в объекте java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong> со значением [1900, 1, 1, 0, 0, 0, 0]</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATE_STRING(date: java.sql.Date): String</strong></th></tr></thead><tbody><tr><td>Функция преобразует значения объекта java.sql.Date в строковую величину вида: y-M-d (пример: 2016-04-15).<br><br><em>Аргументы:</em><br><strong>date</strong> - значение, которое необходимо отформатировать.<br><br><em>Возвращаемое значение:</em><br>Строковое представление <strong>date</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATE_PART(timestamp: java.sql.Timestamp): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает объект java.sql.Timestamp и возвращает объект java.sql.Timestamp со значением [год, месяц, день, 0, 0, 0, 0].<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - компонент даты [год, месяц, день] из объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATE_PART(value: String): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает значение типа String (y-M-d) и возвращает объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа String (пример: 2016-04-15).<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>TIME_PART(timestamp: java.sql.Timestamp): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает объект java.sql.Timestamp, из которого выбирает компонент времени и возвращает объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения, полученные из объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>TIME_STRING(timestamp: java.sql.Timestamp): String</strong></th></tr></thead><tbody><tr><td>Функция преобразует значения объекта java.sql.Timestamp в строковую величину вида: <code>H:m:s.S</code> (пример: 13:38:45.999).<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения, полученные из объектаjava.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Строковое представление <strong>timestamp</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>TIME(hourOfDay: Int, minute: Int, second: Int, millisecond: Int): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает четыре значения типа Int и преобразует их в объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>hourOfDay</strong> - значение типа Int [часы];<br><strong>minute</strong> - значение типа Int [минуты];<br><strong>second</strong> - значение типа Int [секунды];<br><strong>millisecond</strong> - значение типа Int [миллисекунды].<br><br><em>Возвращаемое значение:</em><br>Объект <strong>java.sql.Timestamp</strong>, полученный из аргументов</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>TIME(value: String): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция преобразует принятое значение типа String (HⓂ️s.S) в объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа String (пример: 13:38:45.999).<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATE(timestamp: java.sql.Timestamp): java.sql.Date</strong></th></tr></thead><tbody><tr><td>Функция выбирает компонент даты из объекта java.sql.Timestamp и возвращает объект java.sql.Date с этими значениями.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значение из объекта java.sql.Timestamp, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Date</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATE(value: String): java.sql.Date</strong></th></tr></thead><tbody><tr><td>Функция принимает значение типа String (y-M-d) и преобразует его в объект java.sql.Date.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа String (пример: 2016-04-15), которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Date</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DATE(year: Int, month: Int, dayOfMonth: Int): java.sql.Date</strong></th></tr></thead><tbody><tr><td>Функция принимает три значения типа Int и возвращает их в объекте java.sql.Date.<br><br><em>Аргументы:</em><br><strong>year</strong> - значение типа Int [год];<br><strong>month</strong> - значение типа Int [месяц];<br><strong>dayOfMonth</strong> - значение типа Int [день].<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Date</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>NOW(): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция возвращает значение текущей даты и времени в объекте java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Текущая дата и время</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>TODAY(): java.sql.Date</strong></th></tr></thead><tbody><tr><td>Функция возвращает значение текущей даты в объекте java.sql.Date.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Date</strong>, полученный из текущей даты</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>YEAR(timestamp: java.sql.Timestamp): Int</strong></th></tr></thead><tbody><tr><td>Функция выбирает из объекта java.sql.Timestamp значение [год] и возвращает значение типа Int.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Значение типа <strong>Int</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>MONTH(timestamp: java.sql.Timestamp): Int</strong></th></tr></thead><tbody><tr><td>Функция выбирает из объекта java.sql.Timestamp значение [месяц] и возвращает значение типа Int.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Значение типа <strong>Int</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DAY_OF_MONTH(timestamp: java.sql.Timestamp): Int</strong></th></tr></thead><tbody><tr><td>Функция выбирает из объекта java.sql.Timestamp значение [день] и возвращает значение типа Int.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Значение типа <strong>Int</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>HOUR_OF_DAY(timestamp: java.sql.Timestamp): Int</strong></th></tr></thead><tbody><tr><td>Функция выбирает из объекта java.sql.Timestamp значение [часы] и возвращает значение типа Int.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Значение типа <strong>Int</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>MINUTE(timestamp: java.sql.Timestamp): Int</strong></th></tr></thead><tbody><tr><td>Функция выбирает из объекта java.sql.Timestamp значение [минуты] и возвращает значение типа Int.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Значение типа <strong>Int</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>SECOND(timestamp: java.sql.Timestamp): Int</strong></th></tr></thead><tbody><tr><td>Функция выбирает из объекта java.sql.Timestamp значение [секунды] и возвращает значение типа Int.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Значение типа <strong>Int</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>MILLISECOND(timestamp: java.sql.Timestamp): Int</strong></th></tr></thead><tbody><tr><td>Функция выбирает из объекта java.sql.Timestamp значение [миллисекунды] и возвращает значение типа Int.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br>Значение типа <strong>Int</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>ADD(timestamp: java.sql.Timestamp, shift: java.math.BigDecimal): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает два аргумента. К значению [миллисекунды] из java.sql.Timestamp прибавляет значение аргумента shift и формирует объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения из объекта java.sql.Timestamp;<br><strong>shift</strong> - значение java.math.BigDecimal.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong> с измененным значением [миллисекунды]</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>ADD_DAYS(timestamp: java.sql.Timestamp, days: Int): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает два аргумента. К значению [дни] из java.sql.Timestamp прибавляет значение аргумента days и возвращает объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения из объекта java.sql.Timestamp;<br><strong>days</strong> - значение типа Int.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong> с измененным значением [дни]</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>ADD_HOURS(timestamp: java.sql.Timestamp, hours: Int): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает два аргумента. К значению [часы] из java.sql.Timestamp прибавляет значение аргумента hours и формирует объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения из объекта java.sql.Timestamp;<br><strong>hours</strong> - значение типа Int.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong> с измененным значением [часы]</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>ADD_SECONDS(timestamp: java.sql.Timestamp, seconds: Int): java.sql.Timestamp</strong></th></tr></thead><tbody><tr><td>Функция принимает два аргумента. К значению [секунды] из java.sql.Timestamp прибавляет значение аргумента seconds и формирует объект java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения из объекта java.sql.Timestamp;<br><strong>seconds</strong> - значение типа Int.<br><br><em>Возвращаемое значение:</em><br><strong>java.sql.Timestamp</strong> с измененным значением [секунды]</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>SUBTRACT(t1: java.sql.Timestamp, t2: java.sql.Timestamp): java.math.BigDecimal</strong></th></tr></thead><tbody><tr><td>Функция принимает два аргумента (t1, t2) и вычисляет в миллисекундах количество времени между датами, возвращает это значение в объекте java.math.BigDecimal.<br><br><em>Аргументы:</em><br><strong>t1</strong> - значение времени и даты из объекта java.sql.Timestamp;<br><strong>t2</strong> - значение времени и даты из объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br><strong>java.math.BigDecimal</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>INTEGER(value: Int): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция преобразует значение аргумента типа Int в объект java.lang.Integer.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа Int, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.lang.Integer</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>INTEGER(value: java.math.BigDecimal): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция преобразует объект java.math.BigDecimal в объект java.lang.Integer.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br>Целая часть аргумента <strong>value</strong></td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>INTEGER(value: Double): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция преобразует значение аргумента типа Double в объект java.lang.Integer.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа Double, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.lang.Integer</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>INTEGER(value: String): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция преобразует значение аргумента типа String в объект java.lang.Integer.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа String, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.lang.Integer</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>INTEGER(value: String, radix: Int): java.lang.Integer</strong></th></tr></thead><tbody><tr><td>Функция преобразует значение аргумента value в заданной системе счисления в объект java.lang.Integer.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение, которое необходимо преобразовать;<br><strong>radix</strong> - основание системы счисления (2 - двоичная, 8 - восьмеричная и т.д.).<br><br><em>Возвращаемое значение:</em><br><strong>java.lang.Integer</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DECIMAL(value: Int): java.math.BigDecimal</strong></th></tr></thead><tbody><tr><td>Функция преобразует значение аргумента типа Integer в объект java.math.BigDecimal.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа Integer, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.math.BigDecimal</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DECIMAL(value: String): java.math.BigDecimal</strong></th></tr></thead><tbody><tr><td>Функция преобразует значение аргумента типа String в объект java.math.BigDecimal.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа String, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.math.BigDecimal</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DECIMAL(value: Double): java.math.BigDecimal</strong></th></tr></thead><tbody><tr><td>Функция преобразует значение аргумента типа Double в объект java.math.BigDecimal.<br><br><em>Аргументы:</em><br><strong>value</strong> - значение типа Double, которое необходимо преобразовать.<br><br><em>Возвращаемое значение:</em><br><strong>java.math.BigDecimal</strong>, полученный из аргумента</td></tr></tbody></table></figure><figure><table><thead><tr><th><strong>DECIMAL(timestamp: java.sql.Timestamp): java.math.BigDecimal</strong></th></tr></thead><tbody><tr><td>Функция возвращает объект java.math.BigDecimal со значением количества миллисекунд прошедших с 01.01.1970 до даты, указанной в объекте java.sql.Timestamp.<br><br><em>Аргументы:</em><br><strong>timestamp</strong> - значения объекта java.sql.Timestamp.<br><br><em>Возвращаемое значение:</em><br><strong>java.math.BigDecimal</strong> с вычисленным количеством миллисекунд</td></tr></tbody></table></figure><h2><a name='header-n5466' class='md-header-anchor '></a></h2></div>
</body>
</html>