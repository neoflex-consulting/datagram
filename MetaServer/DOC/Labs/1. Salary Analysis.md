
# Лабораторная работа № 1
***
Задача: Провести в фирме максимальную индексацию зарплат с учетом бизнес правил.
Время проведения индексации: декабрь 2013 года
***
Бизнес правила:
1. Повышение ЗП максимум 2 раза в год
2. Максимальное повышение ЗП на 30% в год
***
Что используется при решении:

1. Hive
2. Oozie
***
## Шаг 1. Создать Project
1. Перейти в раздел ETL -> Project
2. Нажать “+” -> Project
3. Заполнить поле Name: testProject
4. Сохранить

## Шаг 2. Создать Context
1. Перейти через BreadCrumb на вкладку ETL   
2. Выбрать раздел JdbcContext
3. Нажать “+” -> JdbcContext
4. Заполнить поле Name: awTestHR
5. Сохранить
   

6. Перейти через BreadCrumb на вкладку Jdbc Context
7. Нажать “+” -> JdbcContext
8. Заполнить поле Name: awTestPerson
9. Сохранить

## Шаг 3. Создать Software System
1. Перейти через BreadCrumb на вкладку Home
2. Выбрать раздел Connections
3. Выбрать раздел Software System
4. Нажать “+” -> Software System
5. Заполнить поля:
   - Name: awTestHR
   - Project: выбрать testProject
6. Сохранить
   

7. Перейти через BreadCrumb на вкладку Software System
8. Нажать “+” -> Software System
9. Заполнить поля:
   - Name: awTestPerson
   - Project: выбрать testProject
10. Сохранить
> Важно! Name в JdbcContext должно совпадать с Name в Software System

> Оставшиеся поля заполнятся автоматически

## Шаг 4. Создать JdbcConnection
1. Перейти через BreadCrumb на вкладку Connections
2. Выбрать раздел Connections -> JdbcConnection
3. Нажать “+” -> JdbcConnection
4. Заполнить поля 
    - Name: awTestHR
    - Project: выбрать testProject
    - Url: jdbc:postgresql://hivemetastore:5432/Adventureworks
    - Schema: humanresources
    - User: postgres
    - Password: new_password
    - Driver: org.postgresql.Driver
5. Сохранить
6. Запустить Test
7. Получить сообщение об успешном соединении
   

8. Перейти через BreadCrumb на вкладку Jdbc Connection
9. Нажать “+” -> Software System
10. Заполнить поля:
   - Name: awTestPerson
   - Project: выбрать testProject
11. Сохранить
12. Запустить Test
13. Получить сообщение об успешном соединении

## Шаг 5. Создать Deployment
1. Перейти через BreadCrumb на вкладку Connections
2. Выбрать раздел Deployment
3. Нажать “+” -> Scheme
4. Заполнить поля:
    - Name: awTestHR
    - Project: выбрать testProject
    - Connection: Выбрать awTestHR
    - Software System: awTestHR
5. Сохранить
6. Запустить Refresh Scheme
7. Получить сообщение об успешном соединении


8. Перейти через BreadCrumb на вкладку Deployment
9. Нажать “+” -> Deployment
10. Заполнить поля:
   - Name: awTestPerson
   - Project: выбрать testProject
   - Connection: Выбрать awTestPerson
   - Software System: awTestPerson
11. Сохранить
12. Запустить Refresh Scheme
13. Получить сообщение об успешном соединении

> Важно! Если при запуске Refresh Scheme возникла ошибка 
> "id to load is required for loading".
> Кнопка сохранить не отработала, нужно нажать её еще раз и повторить запуск Refresh Scheme

## Шаг 6. Проверить автоматически созданную Scheme
1. Перейти через BreadCrumb на вкладку Connections
2. Выбрать раздел Scheme
3. Проверить наличие humanresources_at_awTestHR (она как раз создалась)
4. Перейти в режим редактирования 
5. Развернуть Tables (6 штук)


6. Перейти через BreadCrumb на вкладку Scheme
7. Проверить наличие person_at_awTestHR (она как раз создалась)
8. Перейти в режим редактирования
9. Развернуть Tables (13 штук)